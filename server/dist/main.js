!function(t){function e(e){for(var r,a,s=e[0],c=e[1],p=e[2],u=0,d=[];u<s.length;u++)a=s[u],o[a]&&d.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(l&&l(e);d.length;)d.shift()();return i.push.apply(i,p||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},o={1:0},i=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var p=0;p<s.length;p++)e(s[p]);var l=c;i.push([233,2]),n()}(Array(39).concat([function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(64),s=n(40),c=n(63),p=n(22),l=n(191),u=n(51),d=function(){function t(t,e,n){if(this.http=t,this.jwtHelperService=e,this.router=n,this.userUrl=c.default.API+"/user",this.user$=new s.BehaviorSubject(null),localStorage.getItem("user")){var r=JSON.parse(localStorage.getItem("user"));this.user$.next(r)}}return t.prototype.saveToken=function(t){localStorage.setItem("token",t)},t.prototype.saveUser=function(t){localStorage.setItem("user",JSON.stringify(t))},t.prototype.handleError=function(t){return s.of(t.error)},t.prototype.getCurrentUser=function(){return this.user$.asObservable()},t.prototype.addNewUserToSession=function(t){this.saveToken(t.token),this.saveUser(t.user),this.user$.next(t.user)},t.prototype.login=function(t,e){var n=this;return this.http.post(this.userUrl+"/login",{email:t,password:e}).pipe(p.catchError(this.handleError),p.tap(function(e){e.token&&(e.user.email=t,n.addNewUserToSession(e))}),p.switchMap(function(t){return s.of(!!t.token)}))},t.prototype.register=function(t,e){var n=this;return this.http.post(this.userUrl+"/register",{email:t,password:e}).pipe(p.catchError(this.handleError),p.tap(function(e){e.token&&(e.user.email=t,e.user.role=c.default.roles.JOURNALIST,n.addNewUserToSession(e))}),p.switchMap(function(t){return s.of(!!t.token)}))},t.prototype.logout=function(){localStorage.removeItem("user"),localStorage.removeItem("token"),this.router.navigate(["/"]),this.user$.next(null)},t=r([i.Injectable({providedIn:"root"}),o("design:paramtypes",[a.HttpClient,l.JwtHelperService,u.Router])],t)}();e.UserService=d},,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(22),a=n(39),s=n(0),c=n(64),p=n(63),l=function(){function t(t,e){this.http=t,this.userService=e,this.postUrl=p.default.API+"/post"}return t.prototype.getPosts=function(){return this.http.get(this.postUrl)},t.prototype.getPostsByAuthor=function(t){return this.http.get(this.postUrl+"/user/"+t)},t.prototype.getPostById=function(t){return this.http.get(this.postUrl+"/"+t)},t.prototype.getPrivatePostById=function(t){return this.http.get(this.postUrl+"/"+t+"/private")},t.prototype.getUploadImageURL=function(){return"https://api.cloudinary.com/v1_1/dd7m2qcf4/upload"},t.prototype.uploadImage=function(t){var e=new FormData;return e.append("file",t,t.name),e.append("upload_preset",p.default.UPLOAD_PRESET),this.http.post(this.getUploadImageURL(),e)},t.prototype.favorite=function(t,e){return this.http.post(this.postUrl+"/"+t+"/favorite/"+e,{})},t.prototype.unfavorite=function(t,e){return this.http.delete(this.postUrl+"/"+t+"/favorite/"+e)},t.prototype.saveOrUpdate=function(t){var e=this;return this.userService.getCurrentUser().pipe(i.switchMap(function(n){return t.authorid=n.id,t.id?e.http.put(e.postUrl+"/"+t.id,t):e.http.post(e.postUrl,t)}))},t.prototype.comment=function(t,e,n){return this.http.post(this.postUrl+"/"+t+"/comment",{postId:t,parentId:e,content:n})},t.prototype.getTagSuggestions=function(t){var e=(new c.HttpParams).set("phrase",t);return this.http.get(this.postUrl+"/tags",{params:e})},t.prototype.createNewTag=function(t){return this.http.post(this.postUrl+"/tags",{name:t})},t.prototype.searchPosts=function(t,e,n,r,o){var i=(new c.HttpParams).append("categoryid",t.toString()).append("phrase",e).append("page",r.toString()).append("pageSize",o.toString());return n&&(i=i.append("tag",n)),this.http.get(""+this.postUrl,{params:i})},t=r([s.Injectable({providedIn:"root"}),o("design:paramtypes",[c.HttpClient,a.UserService])],t)}();e.PostService=l},function(t,e,n){"use strict";e.__esModule=!0;e.default={API:"/api",roles:{READER:0,JOURNALIST:1},UPLOAD_PRESET:"kauzccgl"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(64),s=n(63),c=function(){function t(t){this.http=t,this.categoryUrl=s.default.API+"/category"}return t.prototype.getCategories=function(){return this.http.get(this.categoryUrl)},t=r([i.Injectable({providedIn:"root"}),o("design:paramtypes",[a.HttpClient])],t)}();e.CategoryService=c},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(22),s=n(51),c=function(){function t(t){this.router=t,this.previousUrl="/"}return t.prototype.startObservingUrls=function(){var t=this;this.router.events.pipe(a.filter(function(t){return t instanceof s.RoutesRecognized}),a.pairwise()).subscribe(function(e){var n=e[0].url;t.previousUrl=n})},t.prototype.returnToLastUrl=function(){this.router.navigate([this.previousUrl])},t=r([i.Injectable({providedIn:"root"}),o("design:paramtypes",[s.Router])],t)}();e.RoutingService=c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=160},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(62),a=n(0),s=n(39),c=function(){function t(t,e){this.postService=t,this.userService=e,this.posts=[],this.loaded=!1}return t.prototype.ngOnInit=function(){var t=this;this.userService.getCurrentUser().subscribe(function(e){t.postService.getPostsByAuthor(e.id.toString()).subscribe(function(e){t.posts=e,t.loaded=!0})})},t.prototype.getPrivatePosts=function(){return this.posts.filter(function(t){return!t.public})},t.prototype.getPublicPosts=function(){return this.posts.filter(function(t){return t.public})},t=r([a.Component({selector:"app-author-post",template:n(260),styles:[n(261)]}),o("design:paramtypes",[i.PostService,s.UserService])],t)}();e.AuthorPostComponent=c},,,,,,,,,,,,,function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=function(){function t(){}return t.prototype.transform=function(t,e){return e?t.filter(function(t){return t.categoryid===e}):t.slice()},t=r([o.Pipe({name:"filterCategory"})],t)}();e.FilterCategoryPipe=i},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(62),a=n(0),s=n(51),c=n(22),p=n(40),l=n(39),u=function(){function t(t,e,n,r){this.postService=t,this.userService=e,this.route=n,this.router=r}return t.prototype.ngOnInit=function(){var t=this;-1===this.router.url.indexOf("new-post")&&this.route.paramMap.pipe(c.switchMap(function(e){var n=e.get("id");return n?t.postService.getPrivatePostById(n):p.of(null)}),c.catchError(function(){return p.of(null)})).subscribe(function(e){console.log(e),e||t.router.navigate(["/not-found"]),t.post=e})},t=r([a.Component({selector:"app-manage-post-container",template:n(269),styles:[n(270)]}),o("design:paramtypes",[i.PostService,l.UserService,s.ActivatedRoute,s.Router])],t)}();e.ManagePostComponent=u},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(39),a=n(0),s=n(62),c=n(51),p=n(22),l=function(){function t(t,e,n,r){this.postService=t,this.userService=e,this.route=n,this.router=r,this.favorited=!1,this.showReplyBox=!1,this.newReplyContent="",this.youLikedThis=!1,this.options={toolbarButtons:["bold","italic","underline","strikeThrough"]}}return t.prototype.ngOnInit=function(){var t=this;this.route.paramMap.pipe(p.switchMap(function(e){return t.postService.getPostById(e.get("id"))}),p.zip(this.userService.getCurrentUser())).subscribe(function(e){t.post=e[0],t.user=e[1],t.youLikedThis=t.user&&t.post.favorites.indexOf(t.user.id)>-1})},t.prototype.toggleFavorite=function(){this.user||this.router.navigate(["/login"]),this.youLikedThis?this.unfavorite():this.favorite()},t.prototype.favorite=function(){var t=this;this.postService.favorite(this.post.id,this.user.id).subscribe(function(e){e&&(t.post.favorites.push(t.user.id),t.youLikedThis=!0)})},t.prototype.unfavorite=function(){var t=this;this.postService.unfavorite(this.post.id,this.user.id).subscribe(function(){t.post.favorites.splice(t.post.favorites.indexOf(t.user.id),1),t.youLikedThis=!1})},t.prototype.reply=function(){var t=this;this.newReplyContent&&this.postService.comment(this.post.id,-1,this.newReplyContent).subscribe(function(e){e.commentername=t.user.email,e.datecommented=new Date,e.children=[],t.post.comments.push(e),t.newReplyContent="",t.post.commentcount++})},r([a.ViewChild("editor"),o("design:type",a.ElementRef)],t.prototype,"editor"),t=r([a.Component({selector:"app-single-post",template:n(271),styles:[n(272)]}),o("design:paramtypes",[s.PostService,i.UserService,c.ActivatedRoute,c.Router])],t)}();e.SinglePostComponent=l},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){return function(){this.name="",this.nameurl="",this.content="",this.categoryid=0}}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(51),a=n(62),s=n(106),c=n(0),p=n(174),l=n(179),u=n(14),d=function(){function t(t,e,n,r,o){this.postService=t,this.categoryService=e,this.searchPipe=n,this.filterCategoryPipe=r,this.activatedRoute=o,this.posts=[],this.pageSize=5,this.page=1,this.search="",this.categoryId=0,this.categories=[],this.showSearch=!1,this.loaded=!1,this.tag=void 0,this.total=0}return t.prototype.ngOnInit=function(){var t=this,e=this.activatedRoute.snapshot;this.tag=e.paramMap.get("tag"),this.refilter(),this.categoryService.getCategories().subscribe(function(e){t.categories=e,t.shortCategories=e.slice(3)})},t.prototype.filterTag=function(t,e){return t.filter(function(t){return t.tags.map(function(t){return t.name.toLowerCase()}).indexOf(e)>-1})},t.prototype.query=function(t){var e=this;void 0===t&&(t=function(t){e.posts=t.posts,e.total=t.count,e.loaded=!0}),this.postService.searchPosts(this.categoryId,this.search,this.tag,this.page,this.pageSize).subscribe(t)},t.prototype.onScroll=function(){var t=this;this.page+=1,this.query(function(e){var n;(n=t.posts).push.apply(n,e.posts)})},t.prototype.refilter=function(){this.page=1,this.query()},t.prototype.repaginate=function(t){this.page=t,this.query()},t.prototype.onBlurSearch=function(){this.search||(this.showSearch=!1)},t.prototype.toggleSearch=function(){var t=this;this.showSearch=!this.showSearch,this.showSearch&&setTimeout(function(){t.searchInput.nativeElement.focus()},300)},r([c.ViewChild("searchInput"),o("design:type",c.ElementRef)],t.prototype,"searchInput"),t=r([c.Component({selector:"app-post-container",template:n(277),styles:[n(278)],animations:[u.trigger("showHideSearch",[u.state("cover",u.style({width:"70px",opacity:1})),u.state("show",u.style({display:"inline-block",width:"140px",opacity:1})),u.state("hide",u.style({display:"none",width:"0",opacity:0})),u.transition("hide => show, hide => cover, cover => hide, show => hide",[u.animate(".3s ease-in-out")])])]}),o("design:paramtypes",[a.PostService,s.CategoryService,l.SearchPipe,p.FilterCategoryPipe,i.ActivatedRoute])],t)}();e.PostContainerComponent=d},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=function(){function t(){}return t.prototype.transform=function(t,e){return e?t.filter(function(t){return t.name.indexOf(e)>-1}):t.slice()},t=r([o.Pipe({name:"search"})],t)}();e.SearchPipe=i},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(107),a=n(0),s=n(39),c=function(){function t(t,e){this.userService=t,this.routingService=e,this.invalidated=!1,this.logInFail=!1,this.email="",this.password=""}return t.prototype.ngOnInit=function(){},t.prototype.login=function(){var t=this;this.invalidated=!1,this.logInFail=!1,this.email&&this.password?this.userService.login(this.email,this.password).subscribe(function(e){e?t.routingService.returnToLastUrl():t.logInFail=!0}):this.invalidated=!0},t=r([a.Component({selector:"app-login",template:n(279),styles:[n(280)]}),o("design:paramtypes",[s.UserService,i.RoutingService])],t)}();e.LoginComponent=c},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(107),a=n(0),s=n(39),c=function(){function t(t,e){this.userService=t,this.routingService=e,this.invalidated=!1,this.failed=!1,this.email="",this.password=""}return t.prototype.ngOnInit=function(){},t.prototype.register=function(){var t=this;this.invalidated=!1,this.failed=!1,this.email&&this.password?this.userService.register(this.email,this.password).subscribe(function(e){e?t.routingService.returnToLastUrl():t.failed=!0}):this.invalidated=!0},t=r([a.Component({selector:"app-register",template:n(281),styles:[n(282)]}),o("design:paramtypes",[s.UserService,i.RoutingService])],t)}();e.RegisterComponent=c},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(51),s=n(40),c=n(39),p=n(22),l=function(){function t(t,e){this.userService=t,this.router=e}return t.prototype.canActivate=function(){var t=this;return this.userService.getCurrentUser().pipe(p.tap(function(e){e&&t.router.navigate(["/"])}),p.switchMap(function(t){return s.of(!t)}))},t=r([i.Injectable(),o("design:paramtypes",[c.UserService,a.Router])],t)}();e.NoAuthGuard=l},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(51),s=n(40),c=n(39),p=n(22),l=n(63),u=function(){function t(t,e){this.userService=t,this.router=e}return t.prototype.canActivate=function(t,e){var n=this;return this.userService.getCurrentUser().pipe(p.tap(function(t){t?t.role!==l.default.roles.JOURNALIST&&n.router.navigate(["/forbidden"]):n.router.navigate(["/login"])}),p.switchMap(function(t){return s.of(t.role===l.default.roles.JOURNALIST)}))},t=r([i.Injectable(),o("design:paramtypes",[c.UserService,a.Router])],t)}();e.JournalistGuard=u},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=function(){function t(){}return t=r([o.Component({selector:"app-forbidden",template:n(283),styles:[n(284)]})],t)}();e.ForbiddenComponent=i},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=function(){function t(){}return t=r([o.Component({selector:"app-not-found",template:n(285),styles:[n(286)]})],t)}();e.NotFoundComponent=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";(function(t){e.__esModule=!0,n(234);var r=n(0),o=n(341),i=n(240);"production"===t.env.ENV&&r.enableProdMode(),o.platformBrowserDynamic().bootstrapModule(i.AppModule).catch(function(t){return console.log(t)})}).call(this,n(159))},function(t,e,n){},,,,,,function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(161),i=n(262),a=n(174),s=n(267),c=n(268),p=n(175),l=n(176),u=n(273),d=n(276),f=n(287),g=n(290),h=n(293),m=n(0),v=n(29),y=n(95),b=n(294),x=n(297),R=n(64),w=n(106),P=n(62),_=n(178),S=n(180),j=n(39),O=n(191),k=n(107),C=n(300),I=n(179),M=n(183),U=n(182),D=n(303),L=n(181);n(304);var T=n(340),A=n(305),z=n(306),E=n(307),N=n(308),F=n(310),B=n(330),H=n(332),J=n(184),Y=n(185),G=n(333),V=n(336),$=n(339),q=function(){return localStorage.getItem("token")},W=function(){function t(){}return t=r([m.NgModule({declarations:[b.AppComponent,g.DashboardComponent,f.HeaderComponent,_.PostContainerComponent,u.PostComponent,l.SinglePostComponent,S.LoginComponent,p.ManagePostComponent,C.EditorComponent,L.RegisterComponent,c.SafeStylePipe,s.PaginatePipe,I.SearchPipe,E.ShortEmailPipe,a.FilterCategoryPipe,N.BlurbifyPipe,i.CommentComponent,x.PaginationComponent,B.JdenticonHashDirective,F.FromNowPipe,Y.NotFoundComponent,J.ForbiddenComponent,G.FooterComponent,o.AuthorPostComponent,V.LoadingComponent],imports:[v.BrowserModule,y.FormsModule,R.HttpClientModule,d.AppRoutingModule,O.JwtModule.forRoot({config:{tokenGetter:q,whitelistedDomains:["localhost:3000","%herokuapp%"]}}),T.FroalaEditorModule.forRoot(),T.FroalaViewModule.forRoot(),A.AngularFontAwesomeModule,z.BrowserAnimationsModule,H.NgSelectModule,$.InfiniteScrollModule],exports:[],providers:[h.TodoService,w.CategoryService,P.PostService,j.UserService,k.RoutingService,M.JournalistGuard,U.NoAuthGuard,D.AuthGuard,s.PaginatePipe,I.SearchPipe,a.FilterCategoryPipe],bootstrap:[b.AppComponent]})],t)}();e.AppModule=W},,,,,,,,,,,,,,,,,,,,function(t,e){t.exports='<div class="container" *ngIf="posts.length > 0; else nopost">\r\n    <div class="posts" *ngIf="getPublicPosts().length > 0">\r\n        <div class="section-title">\r\n            Your Public Posts\r\n        </div>\r\n        <div class="box">\r\n            <div class="post public" *ngFor="let post of getPublicPosts()">\r\n                <a routerLink="/post/{{post.nameurl}}">\r\n                    <div class="half" [style.backgroundImage]="\'url(\'+post.previewimage+\')\'">\r\n                    </div>\r\n                    <div class="half">\r\n                        <div class="title">\r\n                            {{post.name}}\r\n                        </div>\r\n                        <div class="category">\r\n                            {{post.categoryname}}\r\n                        </div>\r\n                        <div class="footer">\r\n                            <a class="manage-link" routerLink="/manage-post/{{post.nameurl}}">\r\n                                Edit\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="posts" *ngIf="getPrivatePosts().length > 0">\r\n        <div class="section-title">\r\n            Your Private Posts\r\n        </div>\r\n        <div class="box">\r\n            <div class="post public" *ngFor="let post of getPrivatePosts()">\r\n                <a routerLink="/post/{{post.nameurl}}">\r\n                    <div class="half" [style.backgroundImage]="\'url(\'+post.previewimage+\')\'">\r\n                    </div>\r\n                    <div class="half">\r\n                        <div class="title">\r\n                            {{post.name}}\r\n                        </div>\r\n                        <div class="category">\r\n                            {{post.categoryname}}\r\n                        </div>\r\n                        <div class="footer">\r\n                            <a class="manage-link" routerLink="/manage-post/{{post.nameurl}}">\r\n                                Edit\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<ng-template #nopost>\r\n    <ng-container *ngIf="loaded; else loading">\r\n        <div class="no-post-container">\r\n            <h1>No post here yet.</h1>\r\n            <a routerLink="/new-post">\r\n                <h5>Write something?</h5>\r\n            </a>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #loading>\r\n        <div class="loader-container">\r\n            <app-loading></app-loading>\r\n        </div>\r\n    </ng-template>\r\n</ng-template>'},function(t,e){t.exports=".posts {\r\n    margin-top: 50px 0;\r\n    margin-bottom: 100px;\r\n}\r\n\r\n.box {\r\n    display: grid;\r\n    grid-template-columns: 25% 25% 25% 25%;\r\n    grid-gap: 30px;\r\n    margin: 30px 0;\r\n}\r\n\r\n.post {\r\n    background-color: #f3f3f3;\r\n    box-sizing: border-box;\r\n    height: 260px;\r\n    border-radius: 5px;\r\n}\r\n\r\n.post > a {\r\n    display: grid;\r\n    grid-template-rows: 50% 50%;\r\n    width: 100%;\r\n    height: 100%;\r\n    text-decoration: none;\r\n}\r\n\r\n.post .half:first-child {\r\n    background-size: cover;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n}\r\n\r\n.post .half:last-child {\r\n    padding: 20px 10px 10px 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n}\r\n\r\n.title {\r\n    font-weight: 500;\r\n}\r\n\r\n.category {\r\n    font-size: 14px;\r\n    margin-top: 8px;\r\n}\r\n\r\n.footer {\r\n    align-self: flex-end;\r\n    position: absolute;\r\n    bottom: 10px;\r\n}\r\n\r\n.manage-link {\r\n    display: block;\r\n    border: 1px dotted darkgray;\r\n    padding: 5px 10px;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    float: right;\r\n    border-radius: 25%;\r\n}\r\n\r\n.manage-link i {\r\n    color: gray !important;\r\n}\r\n\r\n.section-title {\r\n    margin: 40px 0;\r\n    font-size: 28px;\r\n    font-weight: 500;\r\n}\r\n\r\n.no-post-container {\r\n    height: 250px;\r\n    padding-top: 50px;\r\n}\r\n\r\n.loader-container {\r\n    height: 50vh;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}"},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(62),a=n(0),s=n(263),c=n(264),p=function(){function t(t){this.postService=t,this.newReplyContent="",this.showReplyBox=!1,this.options={toolbarButtons:["bold","italic","underline","strikeThrough"]}}return t.prototype.ngOnInit=function(){},t.prototype.reply=function(){var t=this;this.newReplyContent&&this.postService.comment(this.comment.postid,this.comment.id,this.newReplyContent).subscribe(function(e){e.commentername=t.currentUser.email,e.datecommented=new Date,e.children=[],t.comment.children.push(e),t.newReplyContent=""})},r([a.Input(),o("design:type",c.default)],t.prototype,"comment"),r([a.Input(),o("design:type",s.default)],t.prototype,"currentUser"),r([a.Input(),o("design:type",Number)],t.prototype,"postAuthor"),t=r([a.Component({selector:"app-comment",template:n(265),styles:[n(266)]}),o("design:paramtypes",[i.PostService])],t)}();e.CommentComponent=p},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){return function(){}}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){return function(){this.name="",this.content=""}}();e.default=r},function(t,e){t.exports='<div class="comment-container">\r\n    <svg class="avatar" width="80" height="80" [jdenticonHash]="comment.commentername">\r\n    </svg>\r\n    <div [ngClass]="{\'comment\': true, \'by-author\': currentUser && postAuthor === comment.commenterid}">\r\n        <div class="dog-ear">&nbsp;</div>\r\n        <div class="header">\r\n            <div class="commenter">{{comment.commentername | shortEmail}}</div>\r\n            <div class="date-commented">{{comment.datecommented | fromNow}}</div>\r\n        </div>\r\n        <div class="content" [innerHTML]="comment.content">\r\n        </div>\r\n        <button *ngIf="currentUser" class="reply" (click)="showReplyBox=!showReplyBox">Reply</button>\r\n    </div>\r\n    <div class="reply-box" *ngIf="showReplyBox">\r\n        <div [froalaEditor]="options" [(froalaModel)]="newReplyContent"></div>\r\n        <button class="black-button" (click)="reply()">Submit</button>\r\n    </div>\r\n    <app-comment *ngFor="let child of comment.children" [postAuthor]="postAuthor" [currentUser]="currentUser" [comment]="child"></app-comment>\r\n</div>'},function(t,e){t.exports='.comment-container {\r\n    margin-left: 105px;\r\n    position: relative;\r\n}\r\n\r\n.avatar {\r\n    position: absolute;\r\n    top: 0;\r\n    left: -105px;\r\n}\r\n\r\n.comment {\r\n    position: relative;\r\n    padding: 0.8em 1em;\r\n    margin-bottom: 1em;\r\n    border: 1px solid #eee;\r\n    border-left: 1px solid rgb(238, 238, 238);\r\n    border-left: 2px solid #555;\r\n}\r\n\r\n.comment.by-author {\r\n    border-left: 2px solid #c30;\r\n}\r\n\r\n.dog-ear {\r\n    content: "";\r\n    position: absolute;\r\n    top: 1em;\r\n    right: 100%;\r\n    width: 0;\r\n    height: 0;\r\n    border-top: 12px solid #555;\r\n    border-left: 16px solid transparent;\r\n}\r\n\r\n.comment.by-author .dog-ear {\r\n    border-top: 12px solid #c30;\r\n}\r\n\r\n.header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n}\r\n\r\n.commenter {\r\n    text-decoration: underline dotted;\r\n}\r\n\r\n.date-commented {\r\n    color: darkgray;\r\n    font-style: italic;\r\n    font-size: 13px;\r\n}\r\n\r\n.content {\r\n    line-height: 1.6;\r\n    font-size: 13px;\r\n    margin: 30px 0;\r\n}\r\n\r\n.black-button {\r\n    margin-top: 15px;\r\n    position: relative;\r\n    padding: 0.8em 2em 0.7em;\r\n    font-size: 0.9em;\r\n    line-height: 1.2;\r\n    border: 0;\r\n    outline: 0;\r\n    color: #fff;\r\n    text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3);\r\n    background: #333;\r\n    border-radius: 0;\r\n    cursor: pointer;\r\n}\r\n\r\n.reply {\r\n    border: 0;\r\n    outline: 0;\r\n    background: 0;\r\n    text-decoration: underline;\r\n    font-size: 13px;\r\n    cursor: pointer;\r\n    padding: 10px;\r\n    padding-left: 0;\r\n    color: gray;\r\n}\r\n\r\n.reply-box {\r\n    margin: 30px 0;\r\n}\r\n'},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=function(){function t(){}return t.prototype.transform=function(t,e,n){var r=(e-1)*n;return t.slice(r,r+n)},t=r([o.Pipe({name:"paginate"})],t)}();e.PaginatePipe=i},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(29),s=function(){function t(t){this.sanitized=t}return t.prototype.transform=function(t){return this.sanitized.bypassSecurityTrustHtml(t)},t=r([i.Pipe({name:"safeStyle"}),o("design:paramtypes",[a.DomSanitizer])],t)}();e.SafeStylePipe=s},function(t,e){t.exports='<app-editor [post]="post"></app-editor>'},function(t,e){t.exports=""},function(t,e){t.exports='<div *ngIf="post">\r\n    <div class="post" *ngIf="post">\r\n        <div class="title">{{post.name}}</div>\r\n        <div class="subtitle">\r\n            posted in <span class="underline">{{post.categoryname}}</span>\r\n            on <span class="underline">{{post.datepublished | date:\'longDate\'}}</span>\r\n            <span *ngIf="post.authorname">\r\n                by <span class="underline">{{post.authorname | shortEmail}}</span>\r\n            </span>\r\n        </div>\r\n        <div class="preview-image" *ngIf="post.previewimage">\r\n            <img src="{{post.previewimage}}">\r\n        </div>\r\n        <div class="content" [innerHTML]="post.content | safeStyle">\r\n        </div>\r\n        <div class="tag-section">\r\n            <div>\r\n                <fa name="tag"></fa>\r\n            </div>\r\n            <div class="tag-list">\r\n                <span class="tag" *ngFor="let tag of post.tags; let i=index">\r\n                    <a routerLink="/tag/{{tag.name.toLowerCase()}}" class="name">\r\n                        {{tag.name}}\r\n                    </a>\r\n                    <span *ngIf="i<post.tags.length-1">\r\n                        ,\r\n                    </span>\r\n                </span>\r\n            </div>\r\n        </div>\r\n        \x3c!-- <a routerLink="/manage-post/{{post.id}}">Edit</a> --\x3e\r\n    </div>\r\n    <div class="favorite-section">\r\n        <button class="favorite-button" (click)="toggleFavorite()">\r\n            <fa name="heart"></fa>\r\n            <span class="favorite-count">{{post.favorites.length}}</span>\r\n        </button>\r\n        <span class="you-liked-this" *ngIf="youLikedThis">You liked this.</span>\r\n        <button class="edit-button" routerLink="/manage-post/{{post.nameurl}}"  *ngIf="user && user.id === post.authorid">\r\n            <fa name="pencil"></fa>\r\n            Edit\r\n        </button>\r\n    </div>\r\n    <div class="comment-section">\r\n        <div class="title">Create your Reply</div>\r\n        <ng-container *ngIf="user; else notLoggedIn">\r\n            <div class="editor">\r\n                <div #editor [froalaEditor]="options" [(froalaModel)]="newReplyContent"></div>\r\n                <button class="submit" (click)="reply()">Post Comment</button>\r\n            </div>\r\n        </ng-container>\r\n        <ng-template #notLoggedIn>\r\n            <a routerLink="/login">Log in</a> to join the discussion.\r\n        </ng-template>\r\n        <div class="other-comments" *ngIf="post.comments.length > 0">\r\n            <div class="title">\r\n                {{post.commentcount}} Comment{{post.commentcount > 1 ? \'s\' : \'\'}}\r\n                <span class="subtitle">{{post.name}}</span>\r\n            </div>\r\n            <app-comment *ngFor="let comment of post.comments" [postAuthor]="post.authorid" [currentUser]="user" [comment]="comment"></app-comment>\r\n        </div>\r\n    </div>\r\n</div>'},function(t,e){t.exports="img {\r\n    max-width: 300px;\r\n    max-height: 300px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.post {\r\n    margin: 70px 0 100px 0;\r\n    text-align: center;\r\n}\r\n\r\n.title {\r\n    font-size: 1.9em;\r\n    font-weight: 500;\r\n    margin: 20px;\r\n}\r\n\r\n.subtitle {\r\n    font-size: 14px;\r\n    color: darkgray;\r\n    margin: 30px;\r\n}\r\n\r\n.subtitle span.underline {\r\n    color: #333;\r\n    text-decoration: underline dotted;\r\n}\r\n\r\n.content {\r\n    margin-bottom: 30px;\r\n    line-height: 1.6;\r\n    text-align: left;\r\n}\r\n\r\n.tag .name {\r\n    text-decoration: underline dotted;\r\n}\r\n\r\n.tag-section {\r\n    margin-top: 60px;\r\n}\r\n\r\n.favorite-button, .edit-button {\r\n    padding: 12px 18px;\r\n    background: none;\r\n    border: none;\r\n    border-bottom: 1px dotted gray;\r\n    cursor: pointer;\r\n    border-radius: 4px;\r\n    font-size: 16px;\r\n}\r\n\r\n.favorite-button:hover, .edit-button:hover {\r\n    background-color: #f7f7f7;\r\n}\r\n\r\n.you-liked-this {\r\n    font-size: 14px;\r\n}\r\n\r\n.favorite-count {\r\n    font-size: 16px;\r\n    padding-left: 10px;\r\n}\r\n\r\n.comment-section {\r\n    margin: 4em 0;\r\n}\r\n\r\n.comment-section .title {\r\n    margin: 2em 0;\r\n    font-size: 24px;\r\n    font-weight: 500;\r\n}\r\n\r\n.comment-section .editor {\r\n    width: 75%;\r\n}\r\n\r\n.comment-section .submit {\r\n    margin-top: 20px;\r\n    position: relative;\r\n    padding: 0.8em 2em 0.7em;\r\n    font-size: 0.9em;\r\n    line-height: 1.2;\r\n    border: 0;\r\n    outline: 0;\r\n    color: #fff;\r\n    text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3);\r\n    background: #333;\r\n    border-radius: 0;\r\n    cursor: pointer;\r\n}\r\n\r\n.other-comments {\r\n    margin-top: 80px;\r\n}\r\n\r\n.other-comments .title {\r\n    margin-bottom: 50px;\r\n}\r\n\r\n.tag-list {\r\n    max-width: 200px;\r\n    margin: auto;\r\n    margin-top: 20px;\r\n}\r\n\r\n.edit-button {\r\n    float: right;\r\n}"},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(177),s=function(){function t(){}return r([i.Input(),o("design:type",a.default)],t.prototype,"post"),t=r([i.Component({selector:"app-post",template:n(274),styles:[n(275)]})],t)}();e.PostComponent=s},function(t,e){t.exports='<div class="post" *ngIf="post">\r\n    <a routerLink="/post/{{post.nameurl}}" class="title">{{post.name}}</a>\r\n    <div class="subtitle">\r\n        posted in <span class="underline">{{post.categoryname}}</span>\r\n        on <span class="underline">{{post.datepublished | date:\'longDate\'}}</span>\r\n            <span *ngIf="post.authorname">\r\n                by <span class="underline">{{post.authorname | shortEmail}}</span>\r\n            </span>\r\n        <ng-container *ngIf="post.commentcount > 0">\r\n            &nbsp;\r\n            <fa name="comment"></fa>\r\n            &nbsp;\r\n            {{post.commentcount}} {{(post.commentcount > 1 ? \'comments\' : \'comment\')}}\r\n        </ng-container>\r\n        <ng-container *ngIf="post.favoritecount > 0">\r\n            &nbsp;\r\n            <fa name="heart"></fa>\r\n            &nbsp;\r\n            {{post.favoritecount}} {{(post.favoritecount > 1 ? \'favorites\' : \'favorite\')}}\r\n        </ng-container>\r\n\r\n    </div>\r\n    <div class="preview-image" *ngIf="post.previewimage">\r\n        <img src="{{post.previewimage}}">\r\n    </div>\r\n    <div class="content" [innerHTML]="post.content | blurbify">\r\n    </div>\r\n    <a class="continue-reading" routerLink="/post/{{post.nameurl}}">\r\n        Continue Reading\r\n        <fa name="long-arrow-right"></fa>\r\n    </a>\r\n</div>'},function(t,e){t.exports="img {\r\n    max-width: 200px;\r\n    max-height: 200px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.post {\r\n    margin: 70px 0 100px 0;\r\n    text-align: center;\r\n}\r\n\r\n.title {\r\n    font-size: 1.9em;\r\n    font-weight: 500;\r\n    margin: 20px;\r\n    text-decoration: none;\r\n}\r\n\r\n.subtitle {\r\n    font-size: 14px;\r\n    color: darkgray;\r\n    margin: 30px;\r\n}\r\n\r\n.subtitle span.underline {\r\n    color: #333;\r\n    text-decoration: underline dotted;\r\n}\r\n\r\n.content {\r\n    margin-bottom: 30px;\r\n    line-height: 1.6;\r\n    text-align: center;\r\n}\r\n\r\n.continue-reading {\r\n    font-size: 14px;\r\n    display: inline-block;\r\n    text-decoration: none;\r\n    padding: 10px 20px;\r\n    border-bottom: 1px dotted #cccccc;\r\n    letter-spacing: 2x;\r\n}\r\n\r\n.continue-reading:hover {\r\n    color: #000;\r\n    background-color: #f7f7f7;\r\n}"},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(161),i=n(176),a=n(178),s=n(0),c=n(51),p=n(180),l=n(175),u=n(181),d=n(182),f=n(183),g=n(184),h=n(185),m=[{path:"",component:a.PostContainerComponent,pathMatch:"full"},{path:"post/:id",component:i.SinglePostComponent},{path:"login",component:p.LoginComponent,canActivate:[d.NoAuthGuard]},{path:"new-post",component:l.ManagePostComponent,canActivate:[f.JournalistGuard]},{path:"manage-post/:id",component:l.ManagePostComponent,canActivate:[f.JournalistGuard]},{path:"me",component:o.AuthorPostComponent,canActivate:[f.JournalistGuard]},{path:"register",component:u.RegisterComponent,canActivate:[d.NoAuthGuard]},{path:"tag/:tag",component:a.PostContainerComponent},{path:"forbidden",component:g.ForbiddenComponent},{path:"**",component:h.NotFoundComponent}],v=function(){function t(){}return t=r([s.NgModule({imports:[c.RouterModule.forRoot(m)],exports:[c.RouterModule]})],t)}();e.AppRoutingModule=v},function(t,e){t.exports='<div>\r\n    <div class="categories">\r\n        <button [ngClass]="{\'fake-button\': true, \'active\': !categoryId}" (click)="categoryId=0; refilter()">All</button>\r\n        <button [ngClass]="{\'fake-button\': true, \'active\': categoryId === category.id}" *ngFor="let category of categories.slice(0,3)"\r\n            (click)="categoryId=category.id; refilter()">{{category.name}}</button>\r\n        <button [ngClass]="{\'fake-button\': true}" (click)="toggleSearch()" [@showHideSearch]="showSearch? \'hide\' : \'cover\'">Search</button>\r\n        <input #searchInput (blur)="onBlurSearch()" [@showHideSearch]="showSearch? \'show\' : \'hide\'" class="search"\r\n            [(ngModel)]="search" (input)="refilter()" />\r\n        <fa name="search" (click)="toggleSearch()"></fa>\r\n    </div>\r\n    <div class="tag-title" *ngIf="tag">\r\n        <span class="big">Posts Tagged</span>\r\n        <span class="small">{{tag}}</span>\r\n    </div>\r\n    <div [ngStyle]="{\'min-height\': \'100vh\'}" *ngIf="posts.length > 0; else nopost">\r\n        <div class="search-results" infiniteScroll [infiniteScrollDistance]="2" [infiniteScrollUpDistance]="1.5"\r\n            [infiniteScrollThrottle]="50" (scrolled)="onScroll()">\r\n            <app-post [post]="post" *ngFor="let post of posts"></app-post>\r\n        </div>\r\n    </div>\r\n    <ng-template #nopost>\r\n        <ng-container *ngIf="loaded; else loading">\r\n            <div class="no-post">\r\n                Nothing to see here.\r\n            </div>\r\n        </ng-container>\r\n        <ng-template #loading>\r\n            <div class="loader-container">\r\n                <app-loading></app-loading>\r\n            </div>\r\n        </ng-template>\r\n    </ng-template>\r\n</div>'},function(t,e){t.exports=".categories {\r\n    text-align: center;\r\n    padding: 5px;\r\n    border-bottom: 1px dotted lightgray;\r\n}\r\n\r\n.categories button {\r\n    display: inline-block;\r\n    font-size: 15px;\r\n    font-weight: 500;\r\n}\r\n\r\n.categories button.active {\r\n    color: #C30;\r\n}\r\n\r\n.fake-button {\r\n    background: none;\r\n    color: black;\r\n    border: none;\r\n    padding: 15px;\r\n    cursor: pointer;\r\n}\r\n\r\n.search {\r\n    color: #333;\r\n    border: none;\r\n    border-bottom: 1px dotted #ccc;\r\n    font-size: .9em;\r\n    padding: 3px 23px 3px 0;\r\n    outline: 0;\r\n}\r\n\r\n.footer {\r\n    position: relative;\r\n}\r\n\r\n.page-size {\r\n    position: absolute;\r\n    right: 0;\r\n    font-size: 13px;\r\n}\r\n\r\nbutton:focus, button.active {\r\n    outline: none;\r\n}\r\n\r\n.no-post {\r\n    margin-top: 100px;\r\n    text-align: center;\r\n}\r\n\r\n.loader-container {\r\n    height: 50vh;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.tag-title {\r\n    margin: 50px 0;\r\n    text-align: center;\r\n}\r\n\r\n.tag-title .big {\r\n    font-size: 28px;\r\n    margin-right: 10px;\r\n}\r\n\r\n.tag-title .small {\r\n    margin-left: 10px;\r\n    font-size: 18px;\r\n    color: gray;\r\n}"},function(t,e){t.exports='<div class="container">\r\n    <div class="message" *ngIf="invalidated">Please fill in all fields.</div>\r\n    <div class="message" *ngIf="logInFail">Your credentials are invalid.</div>\r\n    <div class="input">\r\n        <input spellcheck="false" name="email" [(ngModel)]="email" placeholder="Email">\r\n    </div>\r\n    <div class="input">\r\n        <input spellcheck="false" name="password" type="password" [(ngModel)]="password" placeholder="Password">\r\n    </div>\r\n    <button (click)="login()" name="login">Login</button>\r\n    <a routerLink="/register">Don\'t have an account? Sign up</a>\r\n</div>'},function(t,e){t.exports=".container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin: 35px auto;\r\n    width: 300px;\r\n}\r\n\r\n.input {\r\n    margin: 0 0 35px 0;\r\n}\r\n\r\ninput {\r\n    padding: 15px 5px 12px 0;\r\n    font-size: 14px;\r\n    border: none;\r\n    border-bottom: 1px solid lightgray;\r\n    width: 100%;\r\n}\r\n\r\n@-webkit-keyframes autofill {\r\n    to {\r\n        color: #666;\r\n        background: transparent;\r\n    }\r\n}\r\n\r\ninput:-webkit-autofill {\r\n    -webkit-animation-name: autofill;\r\n    -webkit-animation-fill-mode: both;\r\n}\r\n\r\ninput:focus, input:active {\r\n    border-bottom: 1px solid #333;\r\n    outline: none;\r\n}\r\n\r\nbutton {\r\n    margin: 25px 0 15px 0;\r\n    position: relative;\r\n    padding: 0.8em 2em 0.7em;\r\n    font-size: 0.85em;\r\n    line-height: 1.2;\r\n    border: 0;\r\n    outline: 0;\r\n    color: #fff;\r\n    text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3);\r\n    background: #333;\r\n    border-radius: 50px;\r\n    cursor: pointer;\r\n}\r\n\r\na {\r\n    margin-top: 5px;\r\n    display: block;\r\n    text-align: center;\r\n    font-size: 13px;\r\n}\r\n\r\n.message {\r\n    text-align: center;\r\n    display: block;\r\n    padding: 10px;\r\n    background: #333;\r\n    color: white;\r\n    font-size: 13px;\r\n    margin-bottom: 15px;\r\n}"},function(t,e){t.exports='<div class="container">\r\n    <div class="message" *ngIf="invalidated">Please fill in all fields.</div>\r\n    <div class="message" *ngIf="failed">Your email is already used.</div>\r\n    <div class="input">\r\n        <input spellcheck="false" name="email" [(ngModel)]="email" placeholder="Email">\r\n    </div>\r\n    <div class="input">\r\n        <input spellcheck="false" name="password" type="password" [(ngModel)]="password" placeholder="Password">\r\n    </div>\r\n    <button (click)="register()" name="register">Sign Up</button>\r\n    <a routerLink="/login">Already had an account? Log in</a>\r\n</div>'},function(t,e){t.exports=".container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin: 35px auto;\r\n    width: 300px;\r\n}\r\n\r\n.input {\r\n    margin: 0 0 35px 0;\r\n}\r\n\r\ninput {\r\n    padding: 15px 5px 12px 0;\r\n    font-size: 14px;\r\n    border: none;\r\n    border-bottom: 1px solid lightgray;\r\n    width: 100%;\r\n}\r\n\r\n@-webkit-keyframes autofill {\r\n    to {\r\n        color: #666;\r\n        background: transparent;\r\n    }\r\n}\r\n\r\ninput:-webkit-autofill {\r\n    -webkit-animation-name: autofill;\r\n    -webkit-animation-fill-mode: both;\r\n}\r\n\r\ninput:focus, input:active {\r\n    border-bottom: 1px solid #333;\r\n    outline: none;\r\n}\r\n\r\nbutton {\r\n    margin: 25px 0 15px 0;\r\n    position: relative;\r\n    padding: 0.8em 2em 0.7em;\r\n    font-size: 0.85em;\r\n    line-height: 1.2;\r\n    border: 0;\r\n    outline: 0;\r\n    color: #fff;\r\n    text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3);\r\n    background: #333;\r\n    border-radius: 50px;\r\n    cursor: pointer;\r\n}\r\n\r\na {\r\n    margin-top: 5px;\r\n    display: block;\r\n    text-align: center;\r\n    font-size: 13px;\r\n}\r\n\r\n\r\n.message {\r\n    text-align: center;\r\n    display: block;\r\n    padding: 10px;\r\n    background: #333;\r\n    color: white;\r\n    font-size: 13px;\r\n    margin-bottom: 15px;\r\n}"},function(t,e){t.exports='<div class="container">\r\n    <h1>Forbidden</h1>\r\n    <h5>You are not authorized to see this page.</h5>\r\n</div>'},function(t,e){t.exports=".container {\r\n    height: 250px;\r\n    padding-top: 50px;\r\n}"},function(t,e){t.exports='<div class="container">\r\n        <h1>Not Found.</h1>\r\n        <h5>There is nothing to see here.</h5>\r\n    </div>'},function(t,e){t.exports=".container {\r\n    height: 250px;\r\n    padding-top: 50px;\r\n}"},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(39),a=n(106),s=n(0),c=n(63),p=function(){function t(t,e){this.categoryService=t,this.userService=e,this.categories=[],this.shortEmail=""}return t.prototype.shorten=function(t){return t.substring(0,t.indexOf("@"))},t.prototype.ngOnInit=function(){var t=this;this.categoryService.getCategories().subscribe(function(e){return t.categories=e}),this.userService.getCurrentUser().subscribe(function(e){t.user=e,e&&(console.log(t.user),t.shortEmail=t.shorten(e.email),t.isJournalist=e.role===c.default.roles.JOURNALIST)})},t.prototype.logout=function(){this.user=null,this.userService.logout()},t=r([s.Component({selector:"app-header",template:n(288),styles:[n(289)]}),o("design:paramtypes",[a.CategoryService,i.UserService])],t)}();e.HeaderComponent=p},function(t,e){t.exports='<div class="container">\r\n    <a routerLink="/" class="title">\r\n        Read\r\n    </a>\r\n    <div class="subtitle">\r\n        ...a minimalistic blog focused on readability.\r\n    </div>\r\n</div>\r\n<div class="toolbar">\r\n    <ng-container *ngIf="user; else guest">\r\n        <span class="item">\r\n            <fa name="user-circle-o"></fa>\r\n            <a routerLink="/me">Hi, {{shortEmail}}</a>\r\n        </span>\r\n        <span *ngIf="isJournalist" class="item">\r\n            <fa name="pencil"></fa>\r\n            <a routerLink="/new-post">New Post</a>\r\n        </span>\r\n        <span class="item">\r\n            <a routerLink="/" (click)="logout()">Log Out</a>\r\n        </span>\r\n    </ng-container>\r\n    <ng-template #guest>\r\n        <span class="item">\r\n            <a routerLink="/login">Login</a>\r\n        </span>\r\n    </ng-template>\r\n</div>'},function(t,e){t.exports=".container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-bottom: 1px dotted lightgray;\r\n}\r\n\r\na {\r\n    cursor: pointer;\r\n    color: black;\r\n    text-decoration: none;\r\n}\r\n\r\n.title {\r\n    font-size: 60px;\r\n    font-weight: 100;\r\n    padding: 20px 0;\r\n    border-bottom: 1px dotted lightgray;\r\n}\r\n\r\n.subtitle {\r\n    padding: 40px 0;\r\n    font-size: 14px;\r\n}\r\n\r\n.toolbar {\r\n    position: absolute;\r\n    top: 15px;\r\n    right: 15px;\r\n    font-size: 15px;\r\n}\r\n\r\n.toolbar .item {\r\n    padding: 20px;\r\n}\r\n\r\n.toolbar fa {\r\n    display: inline-block;\r\n    padding-right: 10px !important;\r\n}"},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=function(){function t(){this.title="Read"}return t=r([o.Component({selector:"app-dashboard",template:n(291),styles:[n(292)]})],t)}();e.DashboardComponent=i},function(t,e){t.exports="Dashboard works!"},function(t,e){t.exports=""},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(64),s=n(63),c=function(){function t(t){this.http=t,this.todosUrl=s.default.API+"/todos"}return t.prototype.getTodos=function(){return this.http.get(this.todosUrl)},t.prototype.add=function(t){return this.http.post(this.todosUrl,{name:t})},t.prototype.update=function(t){return this.http.put(this.todosUrl+"/"+t.id,t)},t.prototype.delete=function(t){return this.http.delete(this.todosUrl+"/"+t.id)},t=r([i.Injectable({providedIn:"root"}),o("design:paramtypes",[a.HttpClient])],t)}();e.TodoService=c},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(107),a=n(0),s=function(){function t(t){this.routingService=t,this.title="Simple To Do",this.routingService.startObservingUrls()}return t=r([a.Component({selector:"app-root",template:n(295),styles:[n(296)]}),o("design:paramtypes",[i.RoutingService])],t)}();e.AppComponent=s},function(t,e){t.exports='<div class="container">\r\n    <div class="inner-container">\r\n        <app-header></app-header>\r\n        <router-outlet></router-outlet>\r\n    </div>\r\n    <app-footer></app-footer>\r\n</div>'},function(t,e){t.exports=".container {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    padding-top: 50px;\r\n}\r\n\r\n.inner-container {\r\n    width: 800px;\r\n    min-height: 80vh;\r\n}"},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=function(){function t(){this.activePage=1,this.pageChanged=new i.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.maxPage=function(){return Math.ceil(this.total/this.pageSize)},t.prototype.maxPageArray=function(){return Array(this.maxPage())},t.prototype.changePage=function(t){try{var e=parseInt(t);e>=1&&e<=this.maxPage()&&(this.activePage=e,this.pageChanged.emit(this.activePage))}catch(t){}},r([i.Input(),o("design:type",Number)],t.prototype,"total"),r([i.Input(),o("design:type",Number)],t.prototype,"pageSize"),r([i.Input(),o("design:type",Object)],t.prototype,"activePage"),r([i.Output(),o("design:type",Object)],t.prototype,"pageChanged"),t=r([i.Component({selector:"app-pagination",template:n(298),styles:[n(299)]}),o("design:paramtypes",[])],t)}();e.PaginationComponent=a},function(t,e){t.exports='<div class="pagination" *ngIf="maxPage() > 1">\r\n    <ng-container *ngIf="maxPage() <= 5; else elseTemplate">\r\n        <button *ngFor="let item of maxPageArray(); let i=index" [ngClass]="{\'fake-button\': true, \'active\': activePage === i + 1}" \r\n        (click)="changePage(i+1)">{{(i + 1)}}</button>\r\n    </ng-container>\r\n    <ng-template #elseTemplate>\r\n        <button [ngClass]="{\'disabled\': activePage === 1}" (click)="changePage(activePage - 1)">\r\n            <\r\n        </button>\r\n            <span>\r\n                <span class="active-page">\r\n                    {{activePage}}\r\n                </span>\r\n                of\r\n                <span class="max-page">\r\n                    {{maxPage()}}\r\n                </span>\r\n            </span>\r\n        <button [ngClass]="{\'disabled\': activePage === maxPage()}" (click)="changePage(activePage + 1)">\r\n                >\r\n        </button>\r\n    </ng-template>\r\n</div>'},function(t,e){t.exports="\r\n.pagination {\r\n    text-align: center;\r\n}\r\n\r\n.pagination button {\r\n    border-radius: 50%;\r\n    height: 40px;\r\n    width: 40px;\r\n    background: lightgray;\r\n    text-align: center;\r\n    margin: 0 5px;\r\n    border: none;\r\n    cursor: pointer;\r\n    font-size: 12px;\r\n    font-weight: 300;\r\n}\r\n\r\n.pagination button.active {\r\n    background: rgba(0,0,0,0.7);\r\n    color: lightgray;\r\n}\r\n\r\n.pagination button.disabled {\r\n    background: #eee;\r\n    color: gray;\r\n    cursor: not-allowed;\r\n}\r\n\r\n.toggle-pagebox {\r\n    display: inline-block;\r\n    position: relative;\r\n    padding: 10px 15px;\r\n    cursor: pointer;\r\n}\r\n\r\n.active-page {\r\n    font-weight: bold;\r\n    color: #333;\r\n}"},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(62),a=n(106),s=n(0),c=n(177),p=n(51),l=n(40),u=n(63),d=n(22),f=function(){function t(t,e,n){this.postService=t,this.categoryService=e,this.router=n,this.post=new c.default,this.options={heightMin:300,charCounterCount:!0,imageUpload:!0,imageUploadMethod:"POST",imageUploadParam:"file",imageUploadParams:{upload_preset:u.default.UPLOAD_PRESET},imageUploadURL:this.postService.getUploadImageURL(),events:{"froalaEditor.image.uploaded":function(t,e,n){return n=JSON.parse(n),e.image.insert(n.secure_url,!0,null,e.image.get(),null),!1}},toolbarButtons:["bold","italic","underline","strikeThrough","subscript","superscript","|","fontFamily","fontSize","color","|","insertImage","insertLink","insertTable"]},this.tagTypeahead=new l.Subject,this.showSaved=!1}return t.prototype.ngOnInit=function(){var t=this;this.categoryService.getCategories().subscribe(function(e){t.categories=e}),this.post=this.post||new c.default,this.loadTagSuggestions()},t.prototype.getCurrentCategoryName=function(){var t=this,e=this.categories.filter(function(e){return e.id===t.post.categoryid});if(e.length)return e[0].name},t.prototype.uploadPreviewImage=function(t){var e=this;if(t.length){var n=t.item(0);this.postService.uploadImage(n).subscribe(function(t){e.post.previewimage=t.secure_url})}},t.prototype.isValidated=function(){return this.post&&this.post.name.length>0&&this.post.content&&this.post.categoryid>0},t.prototype.save=function(){var t=this;this.postService.saveOrUpdate(this.post).subscribe(function(e){t.showSaved=!0,setTimeout(function(){t.showSaved=!1},2e3),e&&e.id&&t.router.navigate(["/manage-post/"+e.nameurl])})},t.prototype.triggerImageBox=function(){this.imageBox.nativeElement.click()},t.prototype.loadTagSuggestions=function(){var t=this;this.tagSuggestions$=l.concat(l.of([]),this.tagTypeahead.pipe(d.debounceTime(150),d.distinctUntilChanged(),d.switchMap(function(e){return t.postService.getTagSuggestions(e).pipe(d.catchError(function(){return l.of([])}))})))},t.prototype.createNewTag=function(t){var e=this;if(!t.id){var n="string"==typeof t?t:t.name;this.postService.createNewTag(n).subscribe(function(r){e.post.tags.push({id:r.id,name:n}),e.post.tags=e.post.tags.filter(function(e){return e!==t})})}},r([s.Input(),o("design:type",c.default)],t.prototype,"post"),r([s.ViewChild("imageBox"),o("design:type",s.ElementRef)],t.prototype,"imageBox"),t=r([s.Component({selector:"app-editor",template:n(301),styles:[n(302)]}),o("design:paramtypes",[i.PostService,a.CategoryService,p.Router])],t)}();e.EditorComponent=f},function(t,e){t.exports='<div *ngIf="post">\r\n    <input class="title" placeholder="Title" [(ngModel)]="post.name" />\r\n    <div class="info-box">\r\n        <ng-container *ngIf="post.previewimage; else noPreview">\r\n            <img (click)="triggerImageBox()" class="preview-image" src="{{post.previewimage}}" alt="Preview Image" />    \r\n        </ng-container>\r\n        <ng-template #noPreview>\r\n            <div class="preview-image no-preview" (click)="triggerImageBox()">\r\n                No Preview\r\n            </div>\r\n        </ng-template>\r\n        <input #imageBox type="file" (change)="uploadPreviewImage($event.target.files)" />\r\n    </div>\r\n    <div class="info-box category">\r\n        <div class="subtitle">Select category:</div>\r\n        <ng-select [items]="categories" bindLabel="name" bindValue="id" [(ngModel)]="post.categoryid">\r\n        </ng-select>\r\n    </div>\r\n    <div class="info-box tag">\r\n        <div class="subtitle">Select tags:</div>\r\n        <ng-select [items]="tagSuggestions$ | async" bindLabel="name" [addTag]="true" [multiple]="true" [hideSelected]="true"\r\n            [loading]="people3Loading" [typeahead]="tagTypeahead" [(ngModel)]="post.tags"\r\n            (add)="createNewTag($event)"\r\n            >\r\n            <ng-template ng-tag-tmp let-search="searchTerm">\r\n                <b>Create new</b>: {{search}}\r\n            </ng-template>\r\n        </ng-select>\r\n    </div>\r\n    <br />\r\n    <br />\r\n    <div [froalaEditor]="options" [(froalaModel)]="post.content"></div>\r\n    \x3c!-- <div #content [innerHTML]="(post.content) | safeStyle" (blur)="updateContent()" contenteditable="true" style="height: 500px;">\r\n    </div> --\x3e\r\n    <button class="primary-black-button" [disabled]="!isValidated()" (click)="post.public = true; save()">Save and\r\n        Publish</button>\r\n    &nbsp;\r\n    <button class="secondary-black-button" [disabled]="!isValidated()" (click)="post.public = false; save()">Save as\r\n        draft</button>\r\n    <span [ngClass]="{\'saved\': true, \'show-saved\': showSaved}">\r\n        Saved.\r\n    </span>\r\n</div>'},function(t,e){t.exports=".title {\r\n    border: none;\r\n    color: rgba(0,0,0,.6);\r\n    padding: 25px 10px 10px 0;\r\n    font-size: 1.625rem;\r\n    font-weight: bold;\r\n    width: 100%;\r\n    margin: 20px 0;\r\n    text-align: center;\r\n}\r\n\r\n.pretty .text-label {\r\n    font-weight: 300;\r\n    font-size: 13px;\r\n}\r\n\r\nbutton {\r\n    margin-top: 15px;\r\n    position: relative;\r\n    padding: 0.8em 2em 0.7em;\r\n    font-size: 0.9em;\r\n    line-height: 1.2;\r\n    border-radius: 0;\r\n    cursor: pointer;\r\n}\r\n\r\n.primary-black-button {\r\n    border: 1px solid #333;\r\n    color: #fff;\r\n    text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3);\r\n    background: #333;\r\n}\r\n\r\n.secondary-black-button {\r\n    border: 1px solid  #5b5b5b;\r\n    color:  #5b5b5b;\r\n    background: #fff;\r\n}\r\n\r\nbutton:disabled {\r\n    cursor: not-allowed;\r\n}\r\n\r\n.primary-black-button:disabled {\r\n    background-color: #999;\r\n    border-color: #999;\r\n    text-shadow: none;\r\n}\r\n\r\n.secondary-black-button:disabled {\r\n    border-color: #999;\r\n    color: #999;\r\n}\r\n\r\n.preview-image {\r\n    display: block;\r\n    color: #999;\r\n    border-radius: 10px;\r\n    height: 180px;\r\n    padding: 10px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin: auto;\r\n    cursor: pointer;\r\n}\r\n\r\n.preview-image img {\r\n    border-radius: 10px;\r\n}\r\n\r\n.preview-image:hover {\r\n    filter: brightness(96%);\r\n}\r\n\r\ninput[type=file] {\r\n    width: 1px;\r\n    height: 1px;\r\n    opacity: .01;\r\n}\r\n\r\n.preview-image.no-preview {\r\n    border: 1px dashed #999;\r\n    width: 200px;\r\n}\r\n\r\n.subtitle {\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    text-decoration: underline;\r\n    margin-bottom: 12px;\r\n}\r\n\r\n.category {\r\n    width: 60%;\r\n}\r\n\r\n.info-box {\r\n    margin: 40px 0 20px 0;\r\n}\r\n\r\n.saved {\r\n    font-size: 13px;\r\n    opacity: 0;\r\n    transition: all 0.2s ease-in-out;\r\n    display: inline-block;\r\n    margin-left: 10px;\r\n}\r\n\r\n.saved.show-saved {\r\n    opacity: 1;\r\n}"},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(39),s=n(22),c=function(){function t(t){this.userService=t}return t.prototype.canActivate=function(t,e){return this.userService.getCurrentUser().pipe(s.switchMap(function(t){return!!t}))},t=r([i.Injectable(),o("design:paramtypes",[a.UserService])],t)}();e.AuthGuard=c},,,,function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=function(){function t(){}return t.prototype.transform=function(t){return t?t.slice(0,t.indexOf("@")):t},t=r([o.Pipe({name:"shortEmail"})],t)}();e.ShortEmailPipe=i},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=(n(309),function(){function t(){}return t.prototype.transform=function(t){if(!t)return"";var e=t.slice(0,450).trim();return e.substring(0,e.lastIndexOf(" "))+"..."},t=r([o.Pipe({name:"blurbify"})],t)}());e.BlurbifyPipe=i},,function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=n(311),a=n(188),s=n(321),c=function(){function t(){}return t.prototype.transform=function(t){var e=new Date;return a(e,t)>=1?s(t,"MMMM D, YYYY at h:mm a"):i(t,{addSuffix:!0})},t=r([o.Pipe({name:"fromNow"})],t)}();e.FromNowPipe=c},,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(331),s=function(){function t(t,e){this.el=t,this.renderer=e}return t.prototype.update=function(){a.update(this.el.nativeElement,this.jdenticonHash)},t.prototype.ngOnInit=function(){this.update()},t.prototype.ngOnChanges=function(t){this.update()},r([i.Input(),o("design:type",String)],t.prototype,"jdenticonHash"),t=r([i.Directive({selector:"[jdenticonHash]"}),o("design:paramtypes",[i.ElementRef,i.Renderer2])],t)}();e.JdenticonHashDirective=s},,,function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=function(){function t(){this.thisYear=(new Date).getFullYear()}return t=r([o.Component({selector:"app-footer",template:n(334),styles:[n(335)]})],t)}();e.FooterComponent=i},function(t,e){t.exports='<div class="container">\r\n    <div>\r\n        Copyright © {{thisYear}} Read\r\n    </div>\r\n</div>'},function(t,e){t.exports=".container {\r\n   text-align: center;\r\n   margin-top: 40px;\r\n   padding: 30px;\r\n}"},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=function(){function t(){}return t=r([o.Component({selector:"app-loading",template:n(337),styles:[n(338)]})],t)}();e.LoadingComponent=i},function(t,e){t.exports='<div class="lds-dual-ring"></div>'},function(t,e){t.exports='.lds-dual-ring {\r\n  display: inline-block;\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n.lds-dual-ring:after {\r\n  content: " ";\r\n  display: block;\r\n  width: 46px;\r\n  height: 46px;\r\n  margin: 1px;\r\n  border-radius: 50%;\r\n  border: 2px solid #888;\r\n  border-color: #888 transparent #888 transparent;\r\n  animation: lds-dual-ring 1.2s linear infinite;\r\n}\r\n@keyframes lds-dual-ring {\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n'}]));