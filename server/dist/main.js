!function(t){function e(e){for(var r,a,s=e[0],c=e[1],p=e[2],u=0,f=[];u<s.length;u++)a=s[u],o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(l&&l(e);f.length;)f.shift()();return i.push.apply(i,p||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},o={1:0},i=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var p=0;p<s.length;p++)e(s[p]);var l=c;i.push([231,2]),n()}({105:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(62),s=n(71),c=function(){function t(t){this.http=t,this.categoryUrl=s.default.API+"/category"}return t.prototype.getCategories=function(){return this.http.get(this.categoryUrl)},t=r([i.Injectable({providedIn:"root"}),o("design:paramtypes",[a.HttpClient])],t)}();e.CategoryService=c},106:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(22),s=n(56),c=function(){function t(t){this.router=t,this.previousUrl="/"}return t.prototype.startObservingUrls=function(){var t=this;this.router.events.pipe(a.filter(function(t){return t instanceof s.RoutesRecognized}),a.pairwise()).subscribe(function(e){var n=e[0].url;t.previousUrl=n})},t.prototype.returnToLastUrl=function(){this.router.navigate([this.previousUrl])},t=r([i.Injectable({providedIn:"root"}),o("design:paramtypes",[s.Router])],t)}();e.RoutingService=c},159:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=159},172:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=function(){function t(){}return t.prototype.transform=function(t,e){return e?t.filter(function(t){return t.categoryid===e}):t.slice()},t=r([o.Pipe({name:"filterCategory"})],t)}();e.FilterCategoryPipe=i},173:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(70),a=n(0),s=n(56),c=n(22),p=n(43),l=n(42),u=function(){function t(t,e,n,r){this.postService=t,this.userService=e,this.route=n,this.router=r}return t.prototype.ngOnInit=function(){var t=this;-1===this.router.url.indexOf("new-post")&&this.route.paramMap.pipe(c.switchMap(function(e){var n=e.get("id");return n?t.postService.getPrivatePostById(n):p.of(null)}),c.catchError(function(){return p.of(null)})).subscribe(function(e){console.log(e),e||t.router.navigate(["/not-found"]),t.post=e})},t=r([a.Component({selector:"app-manage-post-container",template:n(265),styles:[n(266)]}),o("design:paramtypes",[i.PostService,l.UserService,s.ActivatedRoute,s.Router])],t)}();e.ManagePostComponent=u},174:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(42),a=n(0),s=n(70),c=n(56),p=n(22),l=function(){function t(t,e,n,r){this.postService=t,this.userService=e,this.route=n,this.router=r,this.favorited=!1,this.showReplyBox=!1,this.newReplyContent="",this.youLikedThis=!1,this.options={toolbarButtons:["bold","italic","underline","strikeThrough"]}}return t.prototype.ngOnInit=function(){var t=this;this.route.paramMap.pipe(p.switchMap(function(e){return t.postService.getPostById(e.get("id"))}),p.zip(this.userService.getCurrentUser())).subscribe(function(e){t.post=e[0],t.user=e[1],t.youLikedThis=t.user&&t.post.favorites.indexOf(t.user.id)>-1})},t.prototype.toggleFavorite=function(){this.user||this.router.navigate(["/login"]),this.youLikedThis?this.unfavorite():this.favorite()},t.prototype.favorite=function(){var t=this;this.postService.favorite(this.post.id,this.user.id).subscribe(function(e){e&&(t.post.favorites.push(t.user.id),t.youLikedThis=!0)})},t.prototype.unfavorite=function(){var t=this;this.postService.unfavorite(this.post.id,this.user.id).subscribe(function(){t.post.favorites.splice(t.post.favorites.indexOf(t.user.id),1),t.youLikedThis=!1})},t.prototype.reply=function(){var t=this;this.newReplyContent&&this.postService.comment(this.post.id,-1,this.newReplyContent).subscribe(function(e){e.commentername=t.user.email,e.datecommented=new Date,e.children=[],t.post.comments.push(e),t.newReplyContent="",t.post.commentcount++})},r([a.ViewChild("editor"),o("design:type",a.ElementRef)],t.prototype,"editor"),t=r([a.Component({selector:"app-single-post",template:n(267),styles:[n(268)]}),o("design:paramtypes",[s.PostService,i.UserService,c.ActivatedRoute,c.Router])],t)}();e.SinglePostComponent=l},175:function(t,e,n){"use strict";e.__esModule=!0;var r=function(){return function(){this.name="",this.content="",this.categoryid=0}}();e.default=r},176:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(70),a=n(105),s=n(0),c=n(172),p=n(177),l=n(13),u=function(){function t(t,e,n,r){this.postService=t,this.categoryService=e,this.searchPipe=n,this.filterCategoryPipe=r,this.posts=[],this.filteredPosts=[],this.paginatedPosts=[],this.pageSize=5,this.page=1,this.search="",this.categoryId=0,this.categories=[],this.showSearch=!1}return t.prototype.ngOnInit=function(){var t=this;this.postService.getPosts().subscribe(function(e){t.posts=e,t.refilter()}),this.categoryService.getCategories().subscribe(function(e){return t.categories=e})},t.prototype.refilter=function(){this.filteredPosts=this.searchPipe.transform(this.filterCategoryPipe.transform(this.posts,this.categoryId),this.search),this.repaginate(1)},t.prototype.repaginate=function(t){this.page=t},t.prototype.onBlurSearch=function(){this.search||(this.showSearch=!1)},t.prototype.toggleSearch=function(){var t=this;this.showSearch=!this.showSearch,this.showSearch&&setTimeout(function(){t.searchInput.nativeElement.focus()},300)},r([s.ViewChild("searchInput"),o("design:type",s.ElementRef)],t.prototype,"searchInput"),t=r([s.Component({selector:"app-post-container",template:n(273),styles:[n(274)],animations:[l.trigger("showHideSearch",[l.state("cover",l.style({width:"70px",opacity:1})),l.state("show",l.style({display:"inline-block",width:"140px",opacity:1})),l.state("hide",l.style({display:"none",width:"0",opacity:0})),l.transition("hide => show, hide => cover, cover => hide, show => hide",[l.animate(".3s ease-in-out")])])]}),o("design:paramtypes",[i.PostService,a.CategoryService,p.SearchPipe,c.FilterCategoryPipe])],t)}();e.PostContainerComponent=u},177:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=function(){function t(){}return t.prototype.transform=function(t,e){return e?t.filter(function(t){return t.name.indexOf(e)>-1}):t.slice()},t=r([o.Pipe({name:"search"})],t)}();e.SearchPipe=i},178:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(106),a=n(0),s=n(42),c=function(){function t(t,e){this.userService=t,this.routingService=e,this.invalidated=!1,this.logInFail=!1,this.email="",this.password=""}return t.prototype.ngOnInit=function(){},t.prototype.login=function(){var t=this;this.invalidated=!1,this.logInFail=!1,this.email&&this.password?this.userService.login(this.email,this.password).subscribe(function(e){e?t.routingService.returnToLastUrl():t.logInFail=!0}):this.invalidated=!0},t=r([a.Component({selector:"app-login",template:n(275),styles:[n(276)]}),o("design:paramtypes",[s.UserService,i.RoutingService])],t)}();e.LoginComponent=c},179:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(106),a=n(0),s=n(42),c=function(){function t(t,e){this.userService=t,this.routingService=e,this.invalidated=!1,this.failed=!1,this.email="",this.password=""}return t.prototype.ngOnInit=function(){},t.prototype.register=function(){var t=this;this.invalidated=!1,this.failed=!1,this.email&&this.password?this.userService.register(this.email,this.password).subscribe(function(e){e?t.routingService.returnToLastUrl():t.failed=!0}):this.invalidated=!0},t=r([a.Component({selector:"app-register",template:n(277),styles:[n(278)]}),o("design:paramtypes",[s.UserService,i.RoutingService])],t)}();e.RegisterComponent=c},180:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(56),s=n(43),c=n(42),p=n(22),l=function(){function t(t,e){this.userService=t,this.router=e}return t.prototype.canActivate=function(){var t=this;return this.userService.getCurrentUser().pipe(p.tap(function(e){e&&t.router.navigate(["/"])}),p.switchMap(function(t){return s.of(!t)}))},t=r([i.Injectable(),o("design:paramtypes",[c.UserService,a.Router])],t)}();e.NoAuthGuard=l},181:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(56),s=n(43),c=n(42),p=n(22),l=n(71),u=function(){function t(t,e){this.userService=t,this.router=e}return t.prototype.canActivate=function(t,e){var n=this;return this.userService.getCurrentUser().pipe(p.tap(function(t){t?t.role!==l.default.roles.JOURNALIST&&n.router.navigate(["/forbidden"]):n.router.navigate(["/login"])}),p.switchMap(function(t){return s.of(t.role===l.default.roles.JOURNALIST)}))},t=r([i.Injectable(),o("design:paramtypes",[c.UserService,a.Router])],t)}();e.JournalistGuard=u},182:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=function(){function t(){}return t=r([o.Component({selector:"app-forbidden",template:n(279),styles:[n(280)]})],t)}();e.ForbiddenComponent=i},183:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=function(){function t(){}return t=r([o.Component({selector:"app-not-found",template:n(281),styles:[n(282)]})],t)}();e.NotFoundComponent=i},231:function(t,e,n){"use strict";(function(t){e.__esModule=!0,n(232);var r=n(0),o=n(333),i=n(238);"production"===t.env.ENV&&r.enableProdMode(),o.platformBrowserDynamic().bootstrapModule(i.AppModule).catch(function(t){return console.log(t)})}).call(this,n(158))},232:function(t,e,n){},238:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(239),i=n(172),a=n(263),s=n(264),c=n(173),p=n(174),l=n(269),u=n(272),f=n(283),d=n(286),h=n(289),g=n(0),m=n(30),v=n(95),y=n(290),b=n(293),x=n(62),R=n(105),w=n(70),_=n(176),P=n(178),S=n(42),j=n(189),O=n(106),C=n(296),k=n(177),I=n(181),M=n(180),U=n(299),D=n(179);n(300);var T=n(332),z=n(301),L=n(302),A=n(303),E=n(304),N=n(306),F=n(326),B=n(328),H=n(182),J=n(183),G=n(329),Y=function(){return localStorage.getItem("token")},$=function(){function t(){}return t=r([g.NgModule({declarations:[y.AppComponent,d.DashboardComponent,f.HeaderComponent,_.PostContainerComponent,l.PostComponent,p.SinglePostComponent,P.LoginComponent,c.ManagePostComponent,C.EditorComponent,D.RegisterComponent,s.SafeStylePipe,a.PaginatePipe,k.SearchPipe,A.ShortEmailPipe,i.FilterCategoryPipe,E.BlurbifyPipe,o.CommentComponent,b.PaginationComponent,F.JdenticonHashDirective,N.FromNowPipe,J.NotFoundComponent,H.ForbiddenComponent,G.FooterComponent],imports:[m.BrowserModule,v.FormsModule,x.HttpClientModule,u.AppRoutingModule,j.JwtModule.forRoot({config:{tokenGetter:Y,whitelistedDomains:["localhost:3000","%herokuapp%"]}}),T.FroalaEditorModule.forRoot(),T.FroalaViewModule.forRoot(),z.AngularFontAwesomeModule,L.BrowserAnimationsModule,B.NgSelectModule],exports:[],providers:[h.TodoService,R.CategoryService,w.PostService,S.UserService,O.RoutingService,I.JournalistGuard,M.NoAuthGuard,U.AuthGuard,a.PaginatePipe,k.SearchPipe,i.FilterCategoryPipe],bootstrap:[y.AppComponent]})],t)}();e.AppModule=$},239:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(70),a=n(0),s=n(259),c=n(260),p=function(){function t(t){this.postService=t,this.newReplyContent="",this.showReplyBox=!1,this.options={toolbarButtons:["bold","italic","underline","strikeThrough"]}}return t.prototype.ngOnInit=function(){},t.prototype.reply=function(){var t=this;this.newReplyContent&&this.postService.comment(this.comment.postid,this.comment.id,this.newReplyContent).subscribe(function(e){e.commentername=t.currentUser.email,e.datecommented=new Date,e.children=[],t.comment.children.push(e),t.newReplyContent=""})},r([a.Input(),o("design:type",c.default)],t.prototype,"comment"),r([a.Input(),o("design:type",s.default)],t.prototype,"currentUser"),r([a.Input(),o("design:type",Number)],t.prototype,"postAuthor"),t=r([a.Component({selector:"app-comment",template:n(261),styles:[n(262)]}),o("design:paramtypes",[i.PostService])],t)}();e.CommentComponent=p},259:function(t,e,n){"use strict";e.__esModule=!0;var r=function(){return function(){}}();e.default=r},260:function(t,e,n){"use strict";e.__esModule=!0;var r=function(){return function(){this.name="",this.content=""}}();e.default=r},261:function(t,e){t.exports='<div class="comment-container">\r\n    <svg class="avatar" width="80" height="80" [jdenticonHash]="comment.commentername">\r\n    </svg>\r\n    <div [ngClass]="{\'comment\': true, \'by-author\': currentUser && postAuthor === comment.commenterid}">\r\n        <div class="dog-ear">&nbsp;</div>\r\n        <div class="header">\r\n            <div class="commenter">{{comment.commentername | shortEmail}}</div>\r\n            <div class="date-commented">{{comment.datecommented | fromNow}}</div>\r\n        </div>\r\n        <div class="content" [innerHTML]="comment.content">\r\n        </div>\r\n        <button *ngIf="currentUser" class="reply" (click)="showReplyBox=!showReplyBox">Reply</button>\r\n    </div>\r\n    <div class="reply-box" *ngIf="showReplyBox">\r\n        <div [froalaEditor]="options" [(froalaModel)]="newReplyContent"></div>\r\n        <button class="black-button" (click)="reply()">Submit</button>\r\n    </div>\r\n    <app-comment *ngFor="let child of comment.children" [postAuthor]="postAuthor" [currentUser]="currentUser" [comment]="child"></app-comment>\r\n</div>'},262:function(t,e){t.exports='.comment-container {\r\n    margin-left: 105px;\r\n    position: relative;\r\n}\r\n\r\n.avatar {\r\n    position: absolute;\r\n    top: 0;\r\n    left: -105px;\r\n}\r\n\r\n.comment {\r\n    position: relative;\r\n    padding: 0.8em 1em;\r\n    margin-bottom: 1em;\r\n    border: 1px solid #eee;\r\n    border-left: 1px solid rgb(238, 238, 238);\r\n    border-left: 2px solid #555;\r\n}\r\n\r\n.comment.by-author {\r\n    border-left: 2px solid #c30;\r\n}\r\n\r\n.dog-ear {\r\n    content: "";\r\n    position: absolute;\r\n    top: 1em;\r\n    right: 100%;\r\n    width: 0;\r\n    height: 0;\r\n    border-top: 12px solid #555;\r\n    border-left: 16px solid transparent;\r\n}\r\n\r\n.comment.by-author .dog-ear {\r\n    border-top: 12px solid #c30;\r\n}\r\n\r\n.header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n}\r\n\r\n.commenter {\r\n    text-decoration: underline dotted;\r\n}\r\n\r\n.date-commented {\r\n    color: darkgray;\r\n    font-style: italic;\r\n    font-size: 13px;\r\n}\r\n\r\n.content {\r\n    line-height: 1.6;\r\n    font-size: 13px;\r\n    margin: 30px 0;\r\n}\r\n\r\n.black-button {\r\n    margin-top: 15px;\r\n    position: relative;\r\n    padding: 0.8em 2em 0.7em;\r\n    font-size: 0.9em;\r\n    line-height: 1.2;\r\n    border: 0;\r\n    outline: 0;\r\n    color: #fff;\r\n    text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3);\r\n    background: #333;\r\n    border-radius: 0;\r\n    cursor: pointer;\r\n}\r\n\r\n.reply {\r\n    border: 0;\r\n    outline: 0;\r\n    background: 0;\r\n    text-decoration: underline;\r\n    font-size: 13px;\r\n    cursor: pointer;\r\n    padding: 10px;\r\n    padding-left: 0;\r\n    color: gray;\r\n}\r\n\r\n.reply-box {\r\n    margin: 30px 0;\r\n}\r\n'},263:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=function(){function t(){}return t.prototype.transform=function(t,e,n){var r=(e-1)*n;return t.slice(r,r+n)},t=r([o.Pipe({name:"paginate"})],t)}();e.PaginatePipe=i},264:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(30),s=function(){function t(t){this.sanitized=t}return t.prototype.transform=function(t){return this.sanitized.bypassSecurityTrustHtml(t)},t=r([i.Pipe({name:"safeStyle"}),o("design:paramtypes",[a.DomSanitizer])],t)}();e.SafeStylePipe=s},265:function(t,e){t.exports='<app-editor [post]="post"></app-editor>'},266:function(t,e){t.exports=""},267:function(t,e){t.exports='<div *ngIf="post">\r\n    <div class="post" *ngIf="post">\r\n        <div class="title">{{post.name}}</div>\r\n        <div class="subtitle">\r\n            posted in <span>{{post.categoryname}}</span>\r\n            on <span>{{post.datepublished | date:\'longDate\'}}</span>\r\n            by <span>{{post.authorname | shortEmail}}</span>\r\n        </div>\r\n        <div class="preview-image" *ngIf="post.previewimage">\r\n            <img src="{{post.previewimage}}">\r\n        </div>\r\n        <div class="content" [innerHTML]="post.content | safeStyle">\r\n        </div>\r\n        <div class="tag-section">\r\n            <div>\r\n                <fa name="tag"></fa>\r\n            </div>\r\n            <div class="tag-list">\r\n                <span class="tag" *ngFor="let tag of post.tags; let i=index">\r\n                    <span class="name">\r\n                        {{tag.name}}\r\n                    </span>\r\n                    <span *ngIf="i<post.tags.length-1">\r\n                        ,\r\n                    </span>\r\n                </span>\r\n            </div>\r\n        </div>\r\n        \x3c!-- <a routerLink="/manage-post/{{post.id}}">Edit</a> --\x3e\r\n    </div>\r\n    <div class="favorite-section">\r\n        <button class="favorite-button" (click)="toggleFavorite()">\r\n            <fa name="heart"></fa>\r\n            <span class="favorite-count">{{post.favorites.length}}</span>\r\n        </button>\r\n        <span class="you-liked-this" *ngIf="youLikedThis">You liked this.</span>\r\n        <button class="edit-button" routerLink="/manage-post/{{post.id}}"  *ngIf="user && user.id === post.authorid">\r\n            <fa name="pencil"></fa>\r\n            Edit\r\n        </button>\r\n    </div>\r\n    <div class="comment-section">\r\n        <div class="title">Create your Reply</div>\r\n        <ng-container *ngIf="user; else notLoggedIn">\r\n            <div class="editor">\r\n                <div #editor [froalaEditor]="options" [(froalaModel)]="newReplyContent"></div>\r\n                <button class="submit" (click)="reply()">Post Comment</button>\r\n            </div>\r\n        </ng-container>\r\n        <ng-template #notLoggedIn>\r\n            <a routerLink="/login">Log in</a> to join the discussion.\r\n        </ng-template>\r\n        <div class="other-comments" *ngIf="post.comments.length > 0">\r\n            <div class="title">\r\n                {{post.commentcount}} Comment{{post.commentcount > 1 ? \'s\' : \'\'}}\r\n                <span class="subtitle">{{post.name}}</span>\r\n            </div>\r\n            <app-comment *ngFor="let comment of post.comments" [postAuthor]="post.authorid" [currentUser]="user" [comment]="comment"></app-comment>\r\n        </div>\r\n    </div>\r\n</div>'},268:function(t,e){t.exports="img {\r\n    max-width: 300px;\r\n    max-height: 300px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.post {\r\n    margin: 70px 0 100px 0;\r\n    text-align: center;\r\n}\r\n\r\n.title {\r\n    font-size: 1.9em;\r\n    font-weight: 500;\r\n    margin: 20px;\r\n}\r\n\r\n.subtitle {\r\n    font-size: 14px;\r\n    color: darkgray;\r\n    margin: 30px;\r\n}\r\n\r\n.subtitle span {\r\n    color: #333;\r\n    text-decoration: underline dotted;\r\n}\r\n\r\n.content {\r\n    margin-bottom: 30px;\r\n    line-height: 1.6;\r\n    text-align: left;\r\n}\r\n\r\n.tag .name {\r\n    text-decoration: underline dotted;\r\n}\r\n\r\n.tag-section {\r\n    margin-top: 60px;\r\n}\r\n\r\n.favorite-button, .edit-button {\r\n    padding: 12px 18px;\r\n    background: none;\r\n    border: none;\r\n    border-bottom: 1px dotted gray;\r\n    cursor: pointer;\r\n    border-radius: 4px;\r\n    font-size: 16px;\r\n}\r\n\r\n.favorite-button:hover, .edit-button:hover {\r\n    background-color: #f7f7f7;\r\n}\r\n\r\n.you-liked-this {\r\n    font-size: 14px;\r\n}\r\n\r\n.favorite-count {\r\n    font-size: 16px;\r\n    padding-left: 10px;\r\n}\r\n\r\n.comment-section {\r\n    margin: 4em 0;\r\n}\r\n\r\n.comment-section .title {\r\n    margin: 2em 0;\r\n    font-size: 24px;\r\n    font-weight: 500;\r\n}\r\n\r\n.comment-section .editor {\r\n    width: 75%;\r\n}\r\n\r\n.comment-section .submit {\r\n    margin-top: 20px;\r\n    position: relative;\r\n    padding: 0.8em 2em 0.7em;\r\n    font-size: 0.9em;\r\n    line-height: 1.2;\r\n    border: 0;\r\n    outline: 0;\r\n    color: #fff;\r\n    text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3);\r\n    background: #333;\r\n    border-radius: 0;\r\n    cursor: pointer;\r\n}\r\n\r\n.other-comments {\r\n    margin-top: 80px;\r\n}\r\n\r\n.other-comments .title {\r\n    margin-bottom: 50px;\r\n}\r\n\r\n.tag-list {\r\n    max-width: 200px;\r\n    margin: auto;\r\n    margin-top: 20px;\r\n}\r\n\r\n.edit-button {\r\n    float: right;\r\n}"},269:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(175),s=function(){function t(){}return r([i.Input(),o("design:type",a.default)],t.prototype,"post"),t=r([i.Component({selector:"app-post",template:n(270),styles:[n(271)]})],t)}();e.PostComponent=s},270:function(t,e){t.exports='<div class="post" *ngIf="post">\r\n    <a routerLink="/post/{{post.id}}" class="title">{{post.name}}</a>\r\n    <div class="subtitle">\r\n        posted in <span>{{post.categoryname}}</span>\r\n        on <span>{{post.datepublished | date:\'longDate\'}}</span>\r\n        by <span>{{post.authorname | shortEmail}}</span>\r\n        <ng-container *ngIf="post.commentcount > 0">\r\n            &nbsp;\r\n            <fa name="comment"></fa>\r\n            &nbsp;\r\n            {{post.commentcount}} {{(post.commentcount > 1 ? \'comments\' : \'comment\')}}\r\n        </ng-container>\r\n        <ng-container *ngIf="post.favoritecount > 0">\r\n            &nbsp;\r\n            <fa name="heart"></fa>\r\n            &nbsp;\r\n            {{post.favoritecount}} {{(post.favoritecount > 1 ? \'favorites\' : \'favorite\')}}\r\n        </ng-container>\r\n\r\n    </div>\r\n    <div class="preview-image" *ngIf="post.previewimage">\r\n        <img src="{{post.previewimage}}">\r\n    </div>\r\n    <div class="content">\r\n        {{post.content | blurbify}}\r\n    </div>\r\n    <a class="continue-reading" routerLink="/post/{{post.id}}">\r\n        Continue Reading\r\n        <fa name="long-arrow-right"></fa>\r\n    </a>\r\n</div>'},271:function(t,e){t.exports="img {\r\n    max-width: 200px;\r\n    max-height: 200px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.post {\r\n    margin: 70px 0 100px 0;\r\n    text-align: center;\r\n}\r\n\r\n.title {\r\n    font-size: 1.9em;\r\n    font-weight: 500;\r\n    margin: 20px;\r\n    text-decoration: none;\r\n}\r\n\r\n.subtitle {\r\n    font-size: 14px;\r\n    color: darkgray;\r\n    margin: 30px;\r\n}\r\n\r\n.subtitle span {\r\n    color: #333;\r\n    text-decoration: underline dotted;\r\n}\r\n\r\n.content {\r\n    margin-bottom: 30px;\r\n    line-height: 1.6;\r\n    text-align: left;\r\n}\r\n\r\n.continue-reading {\r\n    font-size: 14px;\r\n    display: inline-block;\r\n    text-decoration: none;\r\n    padding: 10px 20px;\r\n    border-bottom: 1px dotted #cccccc;\r\n    letter-spacing: 2x;\r\n}\r\n\r\n.continue-reading:hover {\r\n    color: #000;\r\n    background-color: #f7f7f7;\r\n}"},272:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(174),i=n(176),a=n(0),s=n(56),c=n(178),p=n(173),l=n(179),u=n(180),f=n(181),d=n(182),h=n(183),g=[{path:"",component:i.PostContainerComponent,pathMatch:"full"},{path:"post/:id",component:o.SinglePostComponent},{path:"login",component:c.LoginComponent,canActivate:[u.NoAuthGuard]},{path:"new-post",component:p.ManagePostComponent,canActivate:[f.JournalistGuard]},{path:"manage-post/:id",component:p.ManagePostComponent,canActivate:[f.JournalistGuard]},{path:"register",component:l.RegisterComponent,canActivate:[u.NoAuthGuard]},{path:"forbidden",component:d.ForbiddenComponent},{path:"**",component:h.NotFoundComponent}],m=function(){function t(){}return t=r([a.NgModule({imports:[s.RouterModule.forRoot(g)],exports:[s.RouterModule]})],t)}();e.AppRoutingModule=m},273:function(t,e){t.exports='<div>\r\n    <div class="categories">\r\n        <button [ngClass]="{\'fake-button\': true, \'active\': !categoryId}" (click)="categoryId=null; refilter()">All</button>\r\n        <button [ngClass]="{\'fake-button\': true, \'active\': categoryId === category.id}" *ngFor="let category of categories"\r\n            (click)="categoryId=category.id; refilter()">{{category.name}}</button>\r\n        <button [ngClass]="{\'fake-button\': true}" (click)="toggleSearch()" [@showHideSearch]="showSearch? \'hide\' : \'cover\'">Search</button>\r\n        <input #searchInput (blur)="onBlurSearch()" [@showHideSearch]="showSearch? \'show\' : \'hide\'" class="search"\r\n            [(ngModel)]="search" (input)="refilter()" />\r\n        <fa name="search" (click)="toggleSearch()"></fa>\r\n    </div>\r\n    <app-post [post]="post" *ngFor="let post of (filteredPosts | paginate:page:pageSize)"></app-post>\r\n    <div class="footer">\r\n        <div class="page-size">\r\n            Show\r\n            <select [(ngModel)]="pageSize" (ngModelChange)="repaginate(1)">\r\n                <option value="5" selected>5</option>\r\n                <option value="10">10</option>\r\n                <option value="25">25</option>\r\n                <option value="50">50</option>\r\n            </select>\r\n            results\r\n        </div>\r\n        <app-pagination [total]="filteredPosts.length" [pageSize]="pageSize" (pageChanged)="repaginate($event)"></app-pagination>\r\n    </div>\r\n</div>'},274:function(t,e){t.exports=".categories {\r\n    text-align: center;\r\n    padding: 5px;\r\n    border-bottom: 1px dotted lightgray;\r\n}\r\n\r\n.categories button {\r\n    display: inline-block;\r\n    font-size: 15px;\r\n    font-weight: 500;\r\n}\r\n\r\n.categories button.active {\r\n    color: #C30;\r\n}\r\n\r\n.fake-button {\r\n    background: none;\r\n    color: black;\r\n    border: none;\r\n    padding: 15px;\r\n    cursor: pointer;\r\n}\r\n\r\n.search {\r\n    color: #333;\r\n    border: none;\r\n    border-bottom: 1px dotted #ccc;\r\n    font-size: .9em;\r\n    padding: 3px 23px 3px 0;\r\n    outline: 0;\r\n}\r\n\r\n.footer {\r\n    position: relative;\r\n}\r\n\r\n.page-size {\r\n    position: absolute;\r\n    right: 0;\r\n    font-size: 13px;\r\n}\r\n\r\nbutton:focus, button.active {\r\n    outline: none;\r\n}"},275:function(t,e){t.exports='<div class="container">\r\n    <div class="message" *ngIf="invalidated">Please fill in all fields.</div>\r\n    <div class="message" *ngIf="logInFail">Your credentials are invalid.</div>\r\n    <div class="input">\r\n        <input spellcheck="false" name="email" [(ngModel)]="email" placeholder="Email">\r\n    </div>\r\n    <div class="input">\r\n        <input spellcheck="false" name="password" type="password" [(ngModel)]="password" placeholder="Password">\r\n    </div>\r\n    <button (click)="login()" name="login">Login</button>\r\n    <a routerLink="/register">Don\'t have an account? Sign up</a>\r\n</div>'},276:function(t,e){t.exports=".container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin: 35px auto;\r\n    width: 300px;\r\n}\r\n\r\n.input {\r\n    margin: 0 0 35px 0;\r\n}\r\n\r\ninput {\r\n    padding: 15px 5px 12px 0;\r\n    font-size: 14px;\r\n    border: none;\r\n    border-bottom: 1px solid lightgray;\r\n    width: 100%;\r\n}\r\n\r\n@-webkit-keyframes autofill {\r\n    to {\r\n        color: #666;\r\n        background: transparent;\r\n    }\r\n}\r\n\r\ninput:-webkit-autofill {\r\n    -webkit-animation-name: autofill;\r\n    -webkit-animation-fill-mode: both;\r\n}\r\n\r\ninput:focus, input:active {\r\n    border-bottom: 1px solid #333;\r\n    outline: none;\r\n}\r\n\r\nbutton {\r\n    margin: 25px 0 15px 0;\r\n    position: relative;\r\n    padding: 0.8em 2em 0.7em;\r\n    font-size: 0.85em;\r\n    line-height: 1.2;\r\n    border: 0;\r\n    outline: 0;\r\n    color: #fff;\r\n    text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3);\r\n    background: #333;\r\n    border-radius: 50px;\r\n    cursor: pointer;\r\n}\r\n\r\na {\r\n    margin-top: 5px;\r\n    display: block;\r\n    text-align: center;\r\n    font-size: 13px;\r\n}\r\n\r\n.message {\r\n    text-align: center;\r\n    display: block;\r\n    padding: 10px;\r\n    background: #333;\r\n    color: white;\r\n    font-size: 13px;\r\n    margin-bottom: 15px;\r\n}"},277:function(t,e){t.exports='<div class="container">\r\n    <div class="message" *ngIf="invalidated">Please fill in all fields.</div>\r\n    <div class="message" *ngIf="failed">Your email is already used.</div>\r\n    <div class="input">\r\n        <input spellcheck="false" name="email" [(ngModel)]="email" placeholder="Email">\r\n    </div>\r\n    <div class="input">\r\n        <input spellcheck="false" name="password" type="password" [(ngModel)]="password" placeholder="Password">\r\n    </div>\r\n    <button (click)="register()" name="register">Sign Up</button>\r\n    <a routerLink="/login">Already had an account? Log in</a>\r\n</div>'},278:function(t,e){t.exports=".container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin: 35px auto;\r\n    width: 300px;\r\n}\r\n\r\n.input {\r\n    margin: 0 0 35px 0;\r\n}\r\n\r\ninput {\r\n    padding: 15px 5px 12px 0;\r\n    font-size: 14px;\r\n    border: none;\r\n    border-bottom: 1px solid lightgray;\r\n    width: 100%;\r\n}\r\n\r\n@-webkit-keyframes autofill {\r\n    to {\r\n        color: #666;\r\n        background: transparent;\r\n    }\r\n}\r\n\r\ninput:-webkit-autofill {\r\n    -webkit-animation-name: autofill;\r\n    -webkit-animation-fill-mode: both;\r\n}\r\n\r\ninput:focus, input:active {\r\n    border-bottom: 1px solid #333;\r\n    outline: none;\r\n}\r\n\r\nbutton {\r\n    margin: 25px 0 15px 0;\r\n    position: relative;\r\n    padding: 0.8em 2em 0.7em;\r\n    font-size: 0.85em;\r\n    line-height: 1.2;\r\n    border: 0;\r\n    outline: 0;\r\n    color: #fff;\r\n    text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3);\r\n    background: #333;\r\n    border-radius: 50px;\r\n    cursor: pointer;\r\n}\r\n\r\na {\r\n    margin-top: 5px;\r\n    display: block;\r\n    text-align: center;\r\n    font-size: 13px;\r\n}\r\n\r\n\r\n.message {\r\n    text-align: center;\r\n    display: block;\r\n    padding: 10px;\r\n    background: #333;\r\n    color: white;\r\n    font-size: 13px;\r\n    margin-bottom: 15px;\r\n}"},279:function(t,e){t.exports='<div class="container">\r\n    <h1>Forbidden</h1>\r\n    <h5>You are not authorized to see this page.</h5>\r\n</div>'},280:function(t,e){t.exports=".container {\r\n    height: 250px;\r\n    padding-top: 50px;\r\n}"},281:function(t,e){t.exports='<div class="container">\r\n        <h1>Not Found.</h1>\r\n        <h5>There is nothing to see here.</h5>\r\n    </div>'},282:function(t,e){t.exports=".container {\r\n    height: 250px;\r\n    padding-top: 50px;\r\n}"},283:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(42),a=n(105),s=n(0),c=n(71),p=function(){function t(t,e){this.categoryService=t,this.userService=e,this.categories=[],this.shortEmail=""}return t.prototype.shorten=function(t){return t.substring(0,t.indexOf("@"))},t.prototype.ngOnInit=function(){var t=this;this.categoryService.getCategories().subscribe(function(e){return t.categories=e}),this.userService.getCurrentUser().subscribe(function(e){t.user=e,e&&(console.log(t.user),t.shortEmail=t.shorten(e.email),t.isJournalist=e.role===c.default.roles.JOURNALIST)})},t.prototype.logout=function(){this.user=null,this.userService.logout()},t=r([s.Component({selector:"app-header",template:n(284),styles:[n(285)]}),o("design:paramtypes",[a.CategoryService,i.UserService])],t)}();e.HeaderComponent=p},284:function(t,e){t.exports='<div class="container">\r\n    <a routerLink="/" class="title">\r\n        Read\r\n    </a>\r\n    <div class="subtitle">\r\n        ...a minimalistic blog focused on readability.\r\n    </div>\r\n</div>\r\n<div class="toolbar">\r\n    <ng-container *ngIf="user; else guest">\r\n        <span class="item">\r\n            <fa name="user-circle-o"></fa>\r\n            <span>Hi, {{shortEmail}}</span>\r\n        </span>\r\n        <span *ngIf="isJournalist" class="item">\r\n            <fa name="pencil"></fa>\r\n            <a routerLink="/new-post">New Post</a>\r\n        </span>\r\n        <span class="item">\r\n            <a routerLink="/" (click)="logout()">Log Out</a>\r\n        </span>\r\n    </ng-container>\r\n    <ng-template #guest>\r\n        <span class="item">\r\n            <a routerLink="/login">Login</a>\r\n        </span>\r\n    </ng-template>\r\n</div>'},285:function(t,e){t.exports=".container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-bottom: 1px dotted lightgray;\r\n}\r\n\r\na {\r\n    cursor: pointer;\r\n    color: black;\r\n    text-decoration: none;\r\n}\r\n\r\n.title {\r\n    font-size: 60px;\r\n    font-weight: 100;\r\n    padding: 20px 0;\r\n    border-bottom: 1px dotted lightgray;\r\n}\r\n\r\n.subtitle {\r\n    padding: 40px 0;\r\n    font-size: 14px;\r\n}\r\n\r\n.toolbar {\r\n    position: absolute;\r\n    top: 15px;\r\n    right: 15px;\r\n    font-size: 15px;\r\n}\r\n\r\n.toolbar .item {\r\n    padding: 20px;\r\n}\r\n\r\n.toolbar fa {\r\n    display: inline-block;\r\n    padding-right: 10px !important;\r\n}"},286:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=function(){function t(){this.title="Read"}return t=r([o.Component({selector:"app-dashboard",template:n(287),styles:[n(288)]})],t)}();e.DashboardComponent=i},287:function(t,e){t.exports="Dashboard works!"},288:function(t,e){t.exports=""},289:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(62),s=n(71),c=function(){function t(t){this.http=t,this.todosUrl=s.default.API+"/todos"}return t.prototype.getTodos=function(){return this.http.get(this.todosUrl)},t.prototype.add=function(t){return this.http.post(this.todosUrl,{name:t})},t.prototype.update=function(t){return this.http.put(this.todosUrl+"/"+t.id,t)},t.prototype.delete=function(t){return this.http.delete(this.todosUrl+"/"+t.id)},t=r([i.Injectable({providedIn:"root"}),o("design:paramtypes",[a.HttpClient])],t)}();e.TodoService=c},290:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(106),a=n(0),s=function(){function t(t){this.routingService=t,this.title="Simple To Do",this.routingService.startObservingUrls()}return t=r([a.Component({selector:"app-root",template:n(291),styles:[n(292)]}),o("design:paramtypes",[i.RoutingService])],t)}();e.AppComponent=s},291:function(t,e){t.exports='<div class="container">\r\n    <div class="inner-container">\r\n        <app-header></app-header>\r\n        <router-outlet></router-outlet>\r\n    </div>\r\n    <app-footer></app-footer>\r\n</div>'},292:function(t,e){t.exports=".container {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    padding-top: 50px;\r\n}\r\n\r\n.inner-container {\r\n    width: 800px;\r\n}"},293:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=function(){function t(){this.activePage=1,this.pageChanged=new i.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.paginator=function(){return Array(Math.ceil(this.total/this.pageSize))},t.prototype.changePage=function(t){this.activePage=t,this.pageChanged.emit(this.activePage)},r([i.Input(),o("design:type",Number)],t.prototype,"total"),r([i.Input(),o("design:type",Number)],t.prototype,"pageSize"),r([i.Input(),o("design:type",Object)],t.prototype,"activePage"),r([i.Output(),o("design:type",Object)],t.prototype,"pageChanged"),t=r([i.Component({selector:"app-pagination",template:n(294),styles:[n(295)]}),o("design:paramtypes",[])],t)}();e.PaginationComponent=a},294:function(t,e){t.exports='<div class="pagination" *ngIf="paginator().length > 1">\r\n    <button [ngClass]="{\'fake-button\': true, \'active\': i === (activePage - 1)}" *ngFor="let item of paginator(); let i=index"\r\n        (click)="changePage(i+1)">{{(i+1)}}</button>\r\n</div>'},295:function(t,e){t.exports="\r\n.pagination {\r\n    text-align: center;\r\n}\r\n\r\n.pagination button {\r\n    border-radius: 50%;\r\n    height: 30px;\r\n    width: 30px;\r\n    background: lightgray;\r\n    text-align: center;\r\n    margin: 0 5px;\r\n    border: none;\r\n    cursor: pointer;\r\n    font-size: 12px;\r\n    font-weight: 300;\r\n}\r\n\r\n.pagination button.active {\r\n    background: rgba(0,0,0,0.7);\r\n    color: lightgray;\r\n}\r\n"},296:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(70),a=n(105),s=n(0),c=n(175),p=n(56),l=n(43),u=n(22),f=function(){function t(t,e,n){this.postService=t,this.categoryService=e,this.router=n,this.post=new c.default,this.options={heightMin:300,charCounterCount:!0,imageUpload:!0,imageUploadMethod:"POST",imageUploadParam:"preview-image",imageUploadURL:this.postService.getUploadImageURL(),toolbarButtons:["bold","italic","underline","strikeThrough","subscript","superscript","|","fontFamily","fontSize","color","|","insertImage","insertLink","insertTable"]},this.tagTypeahead=new l.Subject,this.showSaved=!1}return t.prototype.ngOnInit=function(){var t=this;this.categoryService.getCategories().subscribe(function(e){return t.categories=e}),this.post=this.post||new c.default,this.loadTagSuggestions()},t.prototype.getCurrentCategoryName=function(){var t=this,e=this.categories.filter(function(e){return e.id===t.post.categoryid});if(e.length)return e[0].name},t.prototype.uploadPreviewImage=function(t){var e=this;if(t.length){var n=t.item(0);this.postService.uploadImage(n).subscribe(function(t){e.post.previewimage=t.link})}},t.prototype.isValidated=function(){return this.post&&this.post.name.length>0&&this.post.content&&this.post.categoryid>0},t.prototype.save=function(){var t=this;this.postService.saveOrUpdate(this.post).subscribe(function(e){t.showSaved=!0,setTimeout(function(){t.showSaved=!1},2e3),e&&e.id&&t.router.navigate(["/manage-post/"+e.id])})},t.prototype.triggerImageBox=function(){this.imageBox.nativeElement.click()},t.prototype.loadTagSuggestions=function(){var t=this;this.tagSuggestions$=l.concat(l.of([]),this.tagTypeahead.pipe(u.debounceTime(150),u.distinctUntilChanged(),u.switchMap(function(e){return t.postService.getTagSuggestions(e).pipe(u.catchError(function(){return l.of([])}))})))},t.prototype.createNewTag=function(t){var e=this;t.id||this.postService.createNewTag(t.name).subscribe(function(n){e.post.tags.push({id:n.id,name:t.name}),e.post.tags=e.post.tags.filter(function(e){return e!==t})})},r([s.Input(),o("design:type",c.default)],t.prototype,"post"),r([s.ViewChild("imageBox"),o("design:type",s.ElementRef)],t.prototype,"imageBox"),t=r([s.Component({selector:"app-editor",template:n(297),styles:[n(298)]}),o("design:paramtypes",[i.PostService,a.CategoryService,p.Router])],t)}();e.EditorComponent=f},297:function(t,e){t.exports='<div *ngIf="post">\r\n    <input class="title" placeholder="Title" [(ngModel)]="post.name" />\r\n    <div class="info-box">\r\n        <ng-container *ngIf="post.previewimage; else noPreview">\r\n            <img (click)="triggerImageBox()" class="preview-image" src="{{post.previewimage}}" alt="Preview Image" />    \r\n        </ng-container>\r\n        <ng-template #noPreview>\r\n            <div class="preview-image no-preview" (click)="triggerImageBox()">\r\n                No Preview\r\n            </div>\r\n        </ng-template>\r\n        <input #imageBox type="file" (change)="uploadPreviewImage($event.target.files)" />\r\n    </div>\r\n    <div class="info-box category">\r\n        <div class="subtitle">Select category:</div>\r\n        <ng-select [items]="categories" bindLabel="name" bindValue="id" [(ngModel)]="post.categoryid">\r\n        </ng-select>\r\n    </div>\r\n    <div class="info-box tag">\r\n        <div class="subtitle">Select tags:</div>\r\n        <ng-select [items]="tagSuggestions$ | async" bindLabel="name" [addTag]="true" [multiple]="true" [hideSelected]="true"\r\n            [loading]="people3Loading" [typeahead]="tagTypeahead" [(ngModel)]="post.tags"\r\n            (add)="createNewTag($event)"\r\n            >\r\n            <ng-template ng-tag-tmp let-search="searchTerm">\r\n                <b>Create new</b>: {{search}}\r\n            </ng-template>\r\n        </ng-select>\r\n    </div>\r\n    <br />\r\n    <br />\r\n    <div [froalaEditor]="options" [(froalaModel)]="post.content"></div>\r\n    \x3c!-- <div #content [innerHTML]="(post.content) | safeStyle" (blur)="updateContent()" contenteditable="true" style="height: 500px;">\r\n    </div> --\x3e\r\n    <button class="primary-black-button" [disabled]="!isValidated()" (click)="post.public = true; save()">Save and\r\n        Publish</button>\r\n    &nbsp;\r\n    \x3c!-- <button class="secondary-black-button" [disabled]="!isValidated()" (click)="post.public = false; save()">Save as\r\n        draft</button> --\x3e\r\n    <span [ngClass]="{\'saved\': true, \'show-saved\': showSaved}">\r\n        Saved.\r\n    </span>\r\n</div>'},298:function(t,e){t.exports=".title {\r\n    border: none;\r\n    color: rgba(0,0,0,.6);\r\n    padding: 25px 10px 10px 0;\r\n    font-size: 1.625rem;\r\n    font-weight: bold;\r\n    width: 100%;\r\n    margin: 20px 0;\r\n    text-align: center;\r\n}\r\n\r\n.pretty .text-label {\r\n    font-weight: 300;\r\n    font-size: 13px;\r\n}\r\n\r\nbutton {\r\n    margin-top: 15px;\r\n    position: relative;\r\n    padding: 0.8em 2em 0.7em;\r\n    font-size: 0.9em;\r\n    line-height: 1.2;\r\n    border-radius: 0;\r\n    cursor: pointer;\r\n}\r\n\r\n.primary-black-button {\r\n    border: 1px solid #333;\r\n    color: #fff;\r\n    text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3);\r\n    background: #333;\r\n}\r\n\r\n.secondary-black-button {\r\n    border: 1px solid  #5b5b5b;\r\n    color:  #5b5b5b;\r\n    background: #fff;\r\n}\r\n\r\nbutton:disabled {\r\n    cursor: not-allowed;\r\n}\r\n\r\n.primary-black-button:disabled {\r\n    background-color: #999;\r\n    border-color: #999;\r\n    text-shadow: none;\r\n}\r\n\r\n.secondary-black-button:disabled {\r\n    border-color: #999;\r\n    color: #999;\r\n}\r\n\r\n.preview-image {\r\n    display: block;\r\n    color: #999;\r\n    border-radius: 10px;\r\n    height: 180px;\r\n    padding: 10px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin: auto;\r\n    cursor: pointer;\r\n}\r\n\r\n.preview-image img {\r\n    border-radius: 10px;\r\n}\r\n\r\n.preview-image:hover {\r\n    filter: brightness(96%);\r\n}\r\n\r\ninput[type=file] {\r\n    width: 1px;\r\n    height: 1px;\r\n    opacity: .01;\r\n}\r\n\r\n.preview-image.no-preview {\r\n    border: 1px dashed #999;\r\n    width: 200px;\r\n}\r\n\r\n.subtitle {\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    text-decoration: underline;\r\n    margin-bottom: 12px;\r\n}\r\n\r\n.category {\r\n    width: 60%;\r\n}\r\n\r\n.info-box {\r\n    margin: 40px 0 20px 0;\r\n}\r\n\r\n.saved {\r\n    font-size: 13px;\r\n    opacity: 0;\r\n    transition: all 0.2s ease-in-out;\r\n    display: inline-block;\r\n    margin-left: 10px;\r\n}\r\n\r\n.saved.show-saved {\r\n    opacity: 1;\r\n}"},299:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(42),s=n(22),c=function(){function t(t){this.userService=t}return t.prototype.canActivate=function(t,e){return this.userService.getCurrentUser().pipe(s.switchMap(function(t){return!!t}))},t=r([i.Injectable(),o("design:paramtypes",[a.UserService])],t)}();e.AuthGuard=c},303:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=function(){function t(){}return t.prototype.transform=function(t){return t.slice(0,t.indexOf("@"))},t=r([o.Pipe({name:"shortEmail"})],t)}();e.ShortEmailPipe=i},304:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=n(305),a=function(){function t(){}return t.prototype.transform=function(t){return i(t,{imgProcess:function(){return""}}).slice(0,250).trim()+"..."},t=r([o.Pipe({name:"blurbify"})],t)}();e.BlurbifyPipe=a},306:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=n(307),a=n(186),s=n(317),c=function(){function t(){}return t.prototype.transform=function(t){var e=new Date;return a(e,t)>=1?s(t,"MMMM D, YYYY at h:mm a"):i(t,{addSuffix:!0})},t=r([o.Pipe({name:"fromNow"})],t)}();e.FromNowPipe=c},326:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(327),s=function(){function t(t,e){this.el=t,this.renderer=e}return t.prototype.update=function(){a.update(this.el.nativeElement,this.jdenticonHash)},t.prototype.ngOnInit=function(){this.update()},t.prototype.ngOnChanges=function(t){this.update()},r([i.Input(),o("design:type",String)],t.prototype,"jdenticonHash"),t=r([i.Directive({selector:"[jdenticonHash]"}),o("design:paramtypes",[i.ElementRef,i.Renderer2])],t)}();e.JdenticonHashDirective=s},329:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};e.__esModule=!0;var o=n(0),i=function(){function t(){this.thisYear=(new Date).getFullYear()}return t=r([o.Component({selector:"app-footer",template:n(330),styles:[n(331)]})],t)}();e.FooterComponent=i},330:function(t,e){t.exports='<div class="container">\r\n    <div>\r\n        Copyright  {{thisYear}} Read\r\n    </div>\r\n</div>'},331:function(t,e){t.exports=".container {\r\n   text-align: center;\r\n   margin-top: 40px;\r\n   padding: 30px;\r\n}"},42:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(0),a=n(62),s=n(43),c=n(71),p=n(22),l=n(189),u=n(56),f=function(){function t(t,e,n){if(this.http=t,this.jwtHelperService=e,this.router=n,this.userUrl=c.default.API+"/user",this.user$=new s.BehaviorSubject(null),localStorage.getItem("user")){var r=JSON.parse(localStorage.getItem("user"));this.user$.next(r)}}return t.prototype.saveToken=function(t){localStorage.setItem("token",t)},t.prototype.saveUser=function(t){localStorage.setItem("user",JSON.stringify(t))},t.prototype.handleError=function(t){return s.of(t.error)},t.prototype.getCurrentUser=function(){return this.user$.asObservable()},t.prototype.addNewUserToSession=function(t){this.saveToken(t.token),this.saveUser(t.user),this.user$.next(t.user)},t.prototype.login=function(t,e){var n=this;return this.http.post(this.userUrl+"/login",{email:t,password:e}).pipe(p.catchError(this.handleError),p.tap(function(e){e.token&&(e.user.email=t,n.addNewUserToSession(e))}),p.switchMap(function(t){return s.of(!!t.token)}))},t.prototype.register=function(t,e){var n=this;return this.http.post(this.userUrl+"/register",{email:t,password:e}).pipe(p.catchError(this.handleError),p.tap(function(e){e.token&&(e.user.email=t,e.user.role=c.default.roles.JOURNALIST,n.addNewUserToSession(e))}),p.switchMap(function(t){return s.of(!!t.token)}))},t.prototype.logout=function(){localStorage.removeItem("user"),localStorage.removeItem("token"),this.router.navigate(["/"]),this.user$.next(null)},t=r([i.Injectable({providedIn:"root"}),o("design:paramtypes",[a.HttpClient,l.JwtHelperService,u.Router])],t)}();e.UserService=f},70:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var i=n(22),a=n(42),s=n(0),c=n(62),p=n(71),l=function(){function t(t,e){this.http=t,this.userService=e,this.postUrl=p.default.API+"/post"}return t.prototype.getPosts=function(){return this.http.get(this.postUrl)},t.prototype.getPostById=function(t){return this.http.get(this.postUrl+"/"+t)},t.prototype.getPrivatePostById=function(t){return this.http.get(this.postUrl+"/"+t+"/private")},t.prototype.getUploadImageURL=function(){return this.postUrl+"/preview-image"},t.prototype.uploadImage=function(t){var e=new FormData;return e.append("preview-image",t,t.name),this.http.post(this.postUrl+"/preview-image",e)},t.prototype.favorite=function(t,e){return this.http.post(this.postUrl+"/"+t+"/favorite/"+e,{})},t.prototype.unfavorite=function(t,e){return this.http.delete(this.postUrl+"/"+t+"/favorite/"+e)},t.prototype.saveOrUpdate=function(t){var e=this;return this.userService.getCurrentUser().pipe(i.switchMap(function(n){return t.authorid=n.id,t.id?e.http.put(e.postUrl+"/"+t.id,t):e.http.post(e.postUrl,t)}))},t.prototype.comment=function(t,e,n){return this.http.post(this.postUrl+"/"+t+"/comment",{postId:t,parentId:e,content:n})},t.prototype.getTagSuggestions=function(t){var e=(new c.HttpParams).set("phrase",t);return this.http.get(this.postUrl+"/tags",{params:e})},t.prototype.createNewTag=function(t){return this.http.post(this.postUrl+"/tags",{name:t})},t=r([s.Injectable({providedIn:"root"}),o("design:paramtypes",[c.HttpClient,a.UserService])],t)}();e.PostService=l},71:function(t,e,n){"use strict";e.__esModule=!0;e.default={API:"/api",roles:{READER:0,JOURNALIST:1}}}});